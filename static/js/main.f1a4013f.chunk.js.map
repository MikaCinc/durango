{"version":3,"sources":["icons/seat_gray.svg","icons/watchBlue.svg","CustomIcons/noFavorites.png","icons/star_white_border.svg","icons/infoWhite.svg","icons/bookWhite.svg","icons/nearMeWhite.svg","icons/titleBlue.svg","icons/callBlue.svg","icons/audioBlue.svg","icons/audioLightblue.svg","icons/locationBlue.svg","icons/menuBookWhite.svg","carouselMock/kafic1.jpg","carouselMock/kafic2.jpg","carouselMock/kafic3.jpg","icons/plus.svg","icons/minus.svg","icons/doneWhite.svg","icons/clearWhite.svg","ExtendedLogo/Logo.png","CustomIcons/defaultLogo.png","data/user.js","Screens/LoginScreen/index.js","data/kafici.js","Components/ComingSoonModal.js","library/common.js","Context/dataContext.js","Context/objectContext.js","Screens/Home.js","Screens/Object/ObjectLogin.js","Components/Claps.js","Components/DetailsHeader.js","Screens/Details.js","Screens/MoreDetails.js","Screens/Reserve.js","Stacks/ObjectProfileStackOfScreens.js","Components/IPHeader.js","Screens/Object/ObjectSettings.js","Stacks/InputPanelStackOfScreens.js","Screens/Object/index.js","App.js","serviceWorker.js","index.js","CustomIcons/noResults.png","icons/star.svg","icons/seat.svg","icons/seat_orange.svg","icons/backArrow.svg"],"names":["module","exports","User","ID","Name","Email","Location","Permissions","canReserve","Reservation","Time","Claps","Favourites","LoginScreen","props","useState","isSuccess","setIsSuccess","profileImage","setProfileImage","profileName","setProfileName","useEffect","JSON","parse","localStorage","getItem","timeout","imageUrl","setTimeout","history","push","clearTimeout","className","when","appear","bottom","delay","duration","src","Logo","clientId","buttonText","onSuccess","response","profileObj","name","obj","googleId","email","setItem","stringify","onFailure","alert","cookiePolicy","render","renderProps","onClick","disabled","appId","autoLoad","fields","authType","isDisabled","tag","callback","picture","data","url","console","log","kafici","id","title","logo","totalSpots","freeSpots","spotsUpdatedAt","moment","subtract","rezervacija","details","description","images","workingHours","location","menu","address","phoneNumber","totalClaps","numberOfGrades","userAplauza","music","volume","Date","reservations","ComingSoonModal","show","onHide","Modal","centered","Body","style","width","marginBottom","isOpen","day","split","openingTime","closingTime","getMomentForTime","time","hours","minutes","set","seconds","millisecond","opening","closing","isSame","isBefore","add","days","isBetween","DataContext","ObjectContext","React","createContext","Provider","DataProvider","Consumer","setUser","Data","setData","filteredData","setFilteredData","search","setSearch","filters","setFilters","sortedOpen","setSortedOpen","sortedClosed","setSortedClosed","currentData","setCurrentData","showComingSoonModal","setShowComingSoonModal","timer","setTimer","loading","setLoading","isAuthorized","updateWithMockData","filterBySearch","indexOf","filterByOmiljeni","isoWeekday","filter","item","int","setInterval","simulateUpdateData","clearInterval","IDs","_","map","randomIDs","slice","shuffle","includes","getNewNumber","random","old","bulk","Math","floor","filtered","trim","toLowerCase","orderBy","value","changeClaps","nextState","toggleFavourite","fav","f","changeSearch","changeData","restOfData","find","toggleFilters","nextFilters","fastReserve","children","LoaderComponent","useContext","type","color","height","visible","Search","placeholder","onChange","e","target","getTrimmedTitle","n","length","Separator","LabelBadge","label","object","isReserved","isAfter","interval","updateTimer","utc","diff","format","backgroundColor","FavoritBadge","Star","UpdatedBadge","fromNow","setLabel","updateLabel","background","List","Array","isArray","easing","appearAnimation","enterAnimation","leaveAnimation","staggerDurationBy","Kafic","key","preporuka","opposite","cascade","process","defaultLogo","Seat","SeatOrange","SeatGray","noFavoritesIcon","noResultsIcon","ListAndSearch","isTurnedOn","MainScreen","Home","ObjectProvider","setID","findData","parseInt","ObjectLogin","setId","replace","entering","canvasClassName","params","particles","number","density","enable","value_area","interactivity","events","onhover","mode","showSlider","setShowSlider","showModal","setShowModal","localClaps","setLocalClaps","slider","useRef","current","addEventListener","detail","removeEventListener","ceildValue","ceil","finishedRating","num","handleClose","left","emoji","step","ref","from","to","padding","toPrecision","DetailsHeader","isSticky","back","BackArrow","placeholderObj","UkupnoMestaBadge","top","right","fontSize","Details","useParams","isFavourite","flag","open","getRadnoVreme","Book","Info","spy","StarOutline","window","NearMe","restOfPage","daysOfTheWeek","MoreDetails","showWHModal","setShowWHModal","Carousel","slide","kafic1","kafic2","kafic3","index","Item","alt","Title","href","Call","i","inRange","Audio","AudioLight","cursor","Watch","MenuBook","Reserve","date","setDate","setTime","seats","setSeats","calendarIcon","maxDetail","minDate","maxDate","toDate","calendarClassName","disableClock","clockIcon","Minus","Plus","Done","Clear","routes","path","Component","ObjectProfileStackOfScreens","splitted","pathname","getBackURL","TransitionGroup","CSSTransition","in","classNames","unmountOnExit","exact","match","IPHeader","useHistory","currentTime","setCurrentTime","displayHeader","renderLeftComponent","renderRightComponent","currentNumber","setCurrentNumber","min","max","Number","range","setTitle","setTotalSpots","setDescription","setLocation","setAddress","setMusic","setPhoneNumber","setWorkingHours","display","flexDirection","position","InputPanelStackOfScreens","setVolume","level","renderFixedButtons","UserStackOfScreens","__RouterContext","component","ObjectStackOfScreens","App","locale","Login","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","immediate","navigator","serviceWorker","getRegistration","then","registration","update","register","onupdatefound","installingWorker","installing","onstatechange","state","controller","confirm","loaction","reload","skipWaiting","onUpdate","catch","error","ReactDOM","document","getElementById","URL","origin","doRegister","fetch","headers","contentType","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f1a4013f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/seat_gray.0fcc2739.svg\";","module.exports = __webpack_public_path__ + \"static/media/watchBlue.7d4403df.svg\";","module.exports = __webpack_public_path__ + \"static/media/noFavorites.05e35132.png\";","module.exports = __webpack_public_path__ + \"static/media/star_white_border.825836a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/infoWhite.d4077530.svg\";","module.exports = __webpack_public_path__ + \"static/media/bookWhite.852d74cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/nearMeWhite.a60b6556.svg\";","module.exports = __webpack_public_path__ + \"static/media/titleBlue.d533da91.svg\";","module.exports = __webpack_public_path__ + \"static/media/callBlue.568b344d.svg\";","module.exports = __webpack_public_path__ + \"static/media/audioBlue.d3318f47.svg\";","module.exports = __webpack_public_path__ + \"static/media/audioLightblue.c793620e.svg\";","module.exports = __webpack_public_path__ + \"static/media/locationBlue.52061cbe.svg\";","module.exports = __webpack_public_path__ + \"static/media/menuBookWhite.4a58ab97.svg\";","module.exports = __webpack_public_path__ + \"static/media/kafic1.4fbc8bcd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kafic2.9ff91612.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kafic3.ba378676.jpg\";","module.exports = __webpack_public_path__ + \"static/media/plus.ce5392aa.svg\";","module.exports = __webpack_public_path__ + \"static/media/minus.70dc2030.svg\";","module.exports = __webpack_public_path__ + \"static/media/doneWhite.e030b88c.svg\";","module.exports = __webpack_public_path__ + \"static/media/clearWhite.a4ae806c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Logo.eb5c53a5.png\";","module.exports = __webpack_public_path__ + \"static/media/defaultLogo.5735143b.png\";","let User = {\r\n    ID: '',\r\n    Name: '',\r\n    Email: '',\r\n    Location: '',\r\n    Permissions: {\r\n        canReserve: true,\r\n    },\r\n    Reservation: {\r\n        ID: null,\r\n        Time: '',\r\n    },\r\n    Claps: [],\r\n    Favourites: []\r\n};\r\n\r\nexport default User;","import React, { useState, useEffect, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport GoogleLogin from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport { Fade, Zoom } from 'react-reveal';\r\n\r\n/* Data */\r\nimport User from '../../data/user';\r\n\r\n/* Logo */\r\nimport Logo from '../../ExtendedLogo/Logo.png';\r\n\r\nconst LoginScreen = props => {\r\n    const [isSuccess, setIsSuccess] = useState(false);\r\n    const [profileImage, setProfileImage] = useState('');\r\n    const [profileName, setProfileName] = useState('');\r\n\r\n    useEffect(() => {\r\n        // localStorage.removeItem('User')\r\n        let User = JSON.parse(localStorage.getItem('User')),\r\n            timeout = null;\r\n\r\n        if (User && User.ID) {\r\n            setProfileImage(User.imageUrl)\r\n            setProfileName(User.Name)\r\n            setIsSuccess(true);\r\n            timeout = setTimeout(() => {\r\n                // props.setAuthorized(true);\r\n                props.history.push('/durango/app/home');\r\n            }, 2000);\r\n        }\r\n\r\n        return () => {\r\n            clearTimeout(timeout);\r\n        }\r\n\r\n    }, []);\r\n\r\n    const responseGoogleSuccess = (response) => {\r\n        // console.log(response)\r\n        setIsSuccess(true);\r\n        setProfileImage(response.profileObj.imageUrl)\r\n        setProfileName(response.profileObj.name)\r\n\r\n        let obj = {\r\n            ...User,\r\n            ID: response.profileObj.googleId,\r\n            Email: response.profileObj.email,\r\n            imageUrl: response.profileObj.imageUrl,\r\n            Name: response.profileObj.name,\r\n        };\r\n\r\n        localStorage.setItem('User', JSON.stringify(obj));\r\n\r\n        setTimeout(() => {\r\n            // props.setAuthorized(true);\r\n            props.history.push('/durango/app/home')\r\n        }, 2000);\r\n    }\r\n\r\n    const responseGoogleFailure = (response) => {\r\n        // console.log(response)\r\n        alert('Something is wrong with Google login');\r\n    }\r\n\r\n    const responseFacebook = (response) => {\r\n        // console.log(response)\r\n        setIsSuccess(true);\r\n        setProfileImage(response.picture.data.url)\r\n        setProfileName(response.name)\r\n        setTimeout(() => {\r\n            // props.setAuthorized(true);\r\n            props.history.push('/durango/app/home')\r\n        }, 2000)\r\n    }\r\n\r\n    return <div className=\"loginScreen\">\r\n        <Fade\r\n            when={true}\r\n            appear\r\n            bottom\r\n            delay={500}\r\n            duration={1000}\r\n        >\r\n            <img className=\"loginLogo\" src={Logo} />\r\n        </Fade>\r\n        <p className=\"loginParagraph\">Najlakši način za pregled broja slobodnih mesta u kafiću ili restoranu!</p>\r\n        <Zoom\r\n            when={isSuccess}\r\n            bottom\r\n            duration={1000}\r\n        >\r\n            <div className=\"loginDetailsDiv\">\r\n                <img\r\n                    className=\"loginProfileImageLoaded\"\r\n                    src={profileImage}\r\n                />\r\n                <p className=\"loginParagraph\">{profileName}</p>\r\n            </div>\r\n        </Zoom>\r\n        {\r\n            !isSuccess && <Fragment>\r\n                <GoogleLogin\r\n                    clientId=\"873302302315-mv8lh0772kbe55nvh687qpv8ddvlv9t0.apps.googleusercontent.com\"\r\n                    buttonText=\"Login\"\r\n                    onSuccess={responseGoogleSuccess}\r\n                    onFailure={responseGoogleFailure}\r\n                    cookiePolicy={'single_host_origin'}\r\n                    render={renderProps => (\r\n                        <div\r\n                            className=\"google-btn\"\r\n                            onClick={renderProps.onClick}\r\n                            disabled={renderProps.disabled}\r\n                        >\r\n                            <img\r\n                                className=\"google-icon\"\r\n                                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\r\n                            />\r\n                            <p className=\"google-text\"><b>Sign in with Google</b></p>\r\n                        </div>\r\n                    )}\r\n                />\r\n                <FacebookLogin\r\n                    appId=\"503529696932140\"\r\n                    autoLoad={false}\r\n                    fields=\"name,email,picture\"\r\n                    authType=\"reauthenticate\"\r\n                    isDisabled={true} //@todo\r\n                    tag={\r\n                        renderProps => (\r\n                            <div\r\n                                className=\"facebook-btn\"\r\n                                onClick={renderProps.onClick}\r\n                            >\r\n                                <img\r\n                                    className=\"facebook-icon\"\r\n                                    src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/F_icon.svg/267px-F_icon.svg.png\"\r\n                                />\r\n                                <p className=\"facebook-text\"><b>Sign in with Facebook</b></p>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    /* onClick={(nesto) => {\r\n                        console.log('nesto', nesto)\r\n                    }} */\r\n                    callback={responseFacebook}\r\n                    onFailure={() => {\r\n                        console.log('Something is wrong with Facebook sign in')\r\n                    }}\r\n                />\r\n            </Fragment>\r\n        }\r\n    </div>;\r\n};\r\n\r\nLoginScreen.propTypes = {};\r\n\r\nexport default LoginScreen;","import moment from 'moment';\r\n\r\nconst kafici = [\r\n    {\r\n        id: 1,\r\n        title: 'Vinyl',\r\n        logo: 'vinyl.png',\r\n        totalSpots: 32,\r\n        freeSpots: 8,\r\n        spotsUpdatedAt: moment().subtract(15, 'minute'),\r\n        rezervacija: [],\r\n        details: {\r\n            description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\r\n            images: '',\r\n            workingHours: [\r\n                '9:00 - 23:30',\r\n                '9:00 - 23:30',\r\n                '9:00 - 23:30',\r\n                '9:00 - 23:30',\r\n                '9:00 - 23:30',\r\n                '9:00 - 23:30',\r\n                '9:00 - 23:30',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/Vinyl+Cafe/@43.3179874,21.8948292,15z/data=!4m5!3m4!1s0x0:0xa52fd515620420f!8m2!3d43.3179874!4d21.8948292?hl=sr',\r\n            menu: '',\r\n            address: 'Majakovskog bb 13/4',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 135,\r\n            numberOfGrades: 38,\r\n            userAplauza: 0,\r\n            music: 'Pop',\r\n            volume: 3\r\n        }\r\n    },\r\n    {\r\n        id: 2,\r\n        title: 'Distrikt',\r\n        logo: 'distrikt.png',\r\n        totalSpots: 68,\r\n        freeSpots: 7,\r\n        spotsUpdatedAt: moment().subtract(1, 'minute'),\r\n        rezervacija: [],\r\n        details: {\r\n            description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\r\n            images: '',\r\n            workingHours: [\r\n                '08:00 - 04:15',\r\n                '08:00 - 04:15',\r\n                '08:00 - 04:15',\r\n                '08:00 - 04:15',\r\n                '08:00 - 04:15',\r\n                '08:00 - 04:15',\r\n                '08:00 - 04:15',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/Square+Cafe/@43.3203283,21.917684,15z/data=!4m5!3m4!1s0x0:0xa63c72132475dc46!8m2!3d43.3203283!4d21.917684?hl=sr',\r\n            menu: '',\r\n            address: 'Majakovskog bb 13/4',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 148,\r\n            numberOfGrades: 38,\r\n            music: 'Pop',\r\n            volume: 3\r\n        }\r\n    },\r\n    {\r\n        id: 3,\r\n        title: 'Dnevna soba',\r\n        logo: 'dnevnaSoba.jpg',\r\n        totalSpots: 42,\r\n        freeSpots: 0,\r\n        spotsUpdatedAt: new Date(),\r\n        rezervacija: [],\r\n        details: {\r\n            description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\r\n            images: '',\r\n            workingHours: [\r\n                '12:50 - 00:10',\r\n                '12:50 - 00:10',\r\n                '12:50 - 00:10',\r\n                '12:50 - 00:10',\r\n                '12:50 - 00:10',\r\n                '12:50 - 00:10',\r\n                '12:50 - 00:10',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/Caffe+bar+Dnevna+soba/@43.3196389,21.896984,15z/data=!4m5!3m4!1s0x0:0xf0256956dfa8b74d!8m2!3d43.3196389!4d21.896984?hl=sr',\r\n            menu: '',\r\n            address: 'Majakovskog bb 13/4',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 156,\r\n            numberOfGrades: 38,\r\n            music: 'Pop',\r\n            volume: 2\r\n        }\r\n    },\r\n    {\r\n        id: 4,\r\n        title: 'Durango Caffe',\r\n        logo: '',\r\n        totalSpots: 90,\r\n        freeSpots: 10,\r\n        spotsUpdatedAt: new Date(),\r\n        reservations: [],\r\n        details: {\r\n            description: 'Jedini kafić u gradu gde možete maziti naše kućne ljubimce dok ispijate kafu sa svojim društvom',\r\n            images: '',\r\n            workingHours: [\r\n                '05:30 - 05:31',\r\n                '05:30 - 05:31',\r\n                '05:30 - 05:31',\r\n                '05:30 - 05:31',\r\n                '05:30 - 05:31',\r\n                '05:30 - 05:31',\r\n                '05:30 - 05:31',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/%D0%A5%26%D0%9C/@43.3207141,21.8934617,17z/data=!3m1!4b1!4m5!3m4!1s0x4755b0b43dced8c7:0x9eb3a135c152d121!8m2!3d43.3207141!4d21.8956504?hl=sr',\r\n            menu: '',\r\n            address: 'Majakovskog bb 13/4',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 190,\r\n            numberOfGrades: 38,\r\n            music: 'Pop',\r\n            volume: 2\r\n        }\r\n    },\r\n    {\r\n        id: 6,\r\n        title: 'Biro Kafeterija',\r\n        logo: 'biro.png',\r\n        totalSpots: 32,\r\n        freeSpots: 10,\r\n        spotsUpdatedAt: moment().subtract(1, 'hour'),\r\n        reservations: [],\r\n        details: {\r\n            description: 'Pazite se, mi volimo da vas slikamo noću!',\r\n            images: '',\r\n            workingHours: [\r\n                '09:30 - 04:50',\r\n                '09:30 - 04:50',\r\n                '09:30 - 04:50',\r\n                '09:30 - 04:50',\r\n                '09:30 - 04:50',\r\n                '09:30 - 04:50',\r\n                '09:30 - 04:50',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/%D0%A5%26%D0%9C/@43.3207141,21.8934617,17z/data=!3m1!4b1!4m5!3m4!1s0x4755b0b43dced8c7:0x9eb3a135c152d121!8m2!3d43.3207141!4d21.8956504?hl=sr',\r\n            menu: '',\r\n            address: 'Centar grada',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 563,\r\n            numberOfGrades: 194,\r\n            music: 'Pop',\r\n            volume: 3\r\n        }\r\n    },\r\n    {\r\n        id: 7,\r\n        title: 'Okrug caffe',\r\n        logo: 'okrug.jpg',\r\n        // preporuka: true,\r\n        totalSpots: 20,\r\n        freeSpots: 0,\r\n        spotsUpdatedAt: new Date(2018, 11, 24, 10, 33, 30, 0),\r\n        reservations: [],\r\n        details: {\r\n            description: 'Kod nas uvek možete da čitate knjige iz trilogija \"Gospodar prstenova\" i \"Hobiti\"',\r\n            images: '',\r\n            workingHours: [\r\n                '06:30 - 01:45',\r\n                '06:30 - 01:45',\r\n                '06:30 - 01:45',\r\n                '06:30 - 01:45',\r\n                '06:30 - 01:45',\r\n                '06:30 - 01:45',\r\n                '06:30 - 01:45',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/%D0%A5%26%D0%9C/@43.3207141,21.8934617,17z/data=!3m1!4b1!4m5!3m4!1s0x4755b0b43dced8c7:0x9eb3a135c152d121!8m2!3d43.3207141!4d21.8956504?hl=sr',\r\n            menu: '',\r\n            address: 'Romanijska 17, Niš 18000',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 287,\r\n            numberOfGrades: 62,\r\n            music: 'Pop',\r\n            volume: 1\r\n        }\r\n    },\r\n    {\r\n        id: 8,\r\n        title: 'Zrnce caffe',\r\n        logo: 'zrnce.png',\r\n        totalSpots: 58,\r\n        freeSpots: 10,\r\n        spotsUpdatedAt: moment().subtract(6, 'hours'),\r\n        reservations: [],\r\n        details: {\r\n            description: 'I ako smo zrnce mi nismo mali!',\r\n            images: '',\r\n            workingHours: [\r\n                '07:25 - 03:46',\r\n                '07:25 - 03:46',\r\n                '07:25 - 03:46',\r\n                '07:25 - 03:46',\r\n                '07:25 - 03:46',\r\n                '07:25 - 03:46',\r\n                '07:25 - 03:46',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/%D0%A5%26%D0%9C/@43.3207141,21.8934617,17z/data=!3m1!4b1!4m5!3m4!1s0x4755b0b43dced8c7:0x9eb3a135c152d121!8m2!3d43.3207141!4d21.8956504?hl=sr',\r\n            menu: '',\r\n            address: 'Nepoznata address',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 33,\r\n            numberOfGrades: 10,\r\n            music: 'Pop',\r\n            volume: 1\r\n        }\r\n    },\r\n    {\r\n        id: 9,\r\n        title: 'Sailor',\r\n        logo: 'sailor.png',\r\n        totalSpots: 30,\r\n        freeSpots: 10,\r\n        spotsUpdatedAt: moment().subtract(6, 'minute'),\r\n        reservations: [],\r\n        details: {\r\n            description: 'Plovimo na talasima vaše kafe',\r\n            images: '',\r\n            workingHours: [\r\n                '07:45 - 01:00',\r\n                '07:45 - 01:00',\r\n                '07:45 - 01:00',\r\n                '07:45 - 01:00',\r\n                '07:45 - 01:00',\r\n                '07:45 - 01:00',\r\n                '07:45 - 01:00',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/%D0%A5%26%D0%9C/@43.3207141,21.8934617,17z/data=!3m1!4b1!4m5!3m4!1s0x4755b0b43dced8c7:0x9eb3a135c152d121!8m2!3d43.3207141!4d21.8956504?hl=sr',\r\n            menu: '',\r\n            address: 'Nepoznata adresa',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 743,\r\n            numberOfGrades: 225,\r\n            music: 'Rock',\r\n            volume: 1\r\n        }\r\n    },\r\n    {\r\n        id: 5,\r\n        title: 'Caffe Zebrano',\r\n        logo: 'zebrano.png',\r\n        totalSpots: 45,\r\n        freeSpots: 0,\r\n        spotsUpdatedAt: moment().subtract(38, 'minute'),\r\n        reservations: [],\r\n        details: {\r\n            description: 'Mazimo zebre!',\r\n            images: '',\r\n            workingHours: [\r\n                '07:55 - 02:00',\r\n                '07:55 - 02:00',\r\n                '07:55 - 02:00',\r\n                '07:55 - 02:00',\r\n                '07:55 - 02:00',\r\n                '07:55 - 02:00',\r\n                '07:55 - 02:00',\r\n            ],\r\n            location: 'https://www.google.com/maps/place/%D0%A5%26%D0%9C/@43.3207141,21.8934617,17z/data=!3m1!4b1!4m5!3m4!1s0x4755b0b43dced8c7:0x9eb3a135c152d121!8m2!3d43.3207141!4d21.8956504?hl=sr',\r\n            menu: '',\r\n            address: 'Troška',\r\n            phoneNumber: '(064) 776-332',\r\n            totalClaps: 1892,\r\n            numberOfGrades: 712,\r\n            music: 'Punk',\r\n            volume: 2\r\n        }\r\n    }\r\n]\r\n\r\nexport default kafici;\r\n","import React, {\r\n    useEffect,\r\n    useState\r\n} from 'react';\r\n\r\n/* Components */\r\nimport { Modal } from 'react-bootstrap';\r\n\r\n/* Logo */\r\nimport Logo from '../CustomIcons/noResults.png';\r\n\r\nconst ComingSoonModal = ({ show, onHide }) => {\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            centered\r\n        >\r\n            <Modal.Body>\r\n                <div className=\"reserveModalContainer\">\r\n                    <img src={Logo} style={{width: '125px'}} />\r\n                    <h6 className=\"boldText\">Naš tim aktivno radi na ovoj funkciji</h6>\r\n                    <p style={{marginBottom: '0px'}}>Biće dostupna u nekom od narednih ažuriranja.</p>\r\n                    <p>Hvala na strpljenju!</p>\r\n                    <div\r\n                        className=\"detailsRow clickableRow w-50\"\r\n                        onClick={() => {\r\n                            onHide();\r\n                        }}\r\n                    >\r\n                        <h1 className=\"detailRowText boldText\">OK</h1>\r\n                    </div>\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default ComingSoonModal;","import moment from 'moment';\r\n\r\n// const isOpen = (workingHours) => {\r\n//     // Kafići ne smeju da se zatvaraju od lowerLimita što je 05:00 do početka radnog vremena u toku dana\r\n//     // Da bi ovaj algoritam funkcionisao\r\n\r\n//     let time = workingHours,\r\n//         timeStart = time.split(' - ')[0],\r\n//         timeEnd = time.split(' - ')[1],\r\n//         currentTime = moment(),\r\n//         flag = false,\r\n//         sFlag = false,\r\n//         lowerLimit = '05:00'; //@todo Ovo treba da se istraži koliko da bude na kraju\r\n\r\n//     if (currentTime.isBetween(moment('00:00', 'HH:mm'), moment(lowerLimit, 'HH:mm'))) {\r\n//         sFlag = true; //Ovo je flag koji kaže da li je trenutno vreme prešlo 00:00\r\n//     };\r\n\r\n//     if (moment(timeEnd, 'HH:mm').isBetween(moment('00:00', 'HH:mm'), moment(lowerLimit, 'HH:mm'))) {\r\n//         flag = true; //Ovo je flag koji kaže da li je vreme zatvaranja kafića između 00:00 i lowerlimita\r\n//     };\r\n\r\n//     if (currentTime.isBetween(moment(timeStart, 'HH:mm').subtract(sFlag ? 1 : 0, 'days'), moment(timeEnd, 'HH:mm').add(!sFlag && flag ? 1 : 0, 'days').subtract(sFlag && !flag ? 1 : 0, 'days'))) {\r\n\r\n//         // Postoje sledeći slučajevi:\r\n//         //     Ako nije prošlo 00:00\r\n//         //         Vreme početka ne diramo\r\n//         //         Ako je vreme završetka pre 00:00\r\n//         //             Vreme završetka ne diramo\r\n//         //         Ako je vreme završetka posle 00:00\r\n//         //             Vremenu završetka dodajemo 1 dan\r\n//         //     Ako je prošlo 00:00\r\n//         //         Vremenu početka oduzimamo 1 dan\r\n//         //         Ako je vreme završetka pre 00:00\r\n//         //             Vremenu završetka oduzimamo 1 dan\r\n//         //         Ako je vreme završetka posle 00:00 pa do lowerLimita(05:00)\r\n//         //             Vreme završetka ne diramo\r\n\r\n//         //     lowerLimit je vreme pre koga ne sme početi radno vreme a posle koga se ono ne sme završiti\r\n\r\n//         return true;\r\n//     };\r\n\r\n\r\n//     return false;\r\n// }\r\n\r\nfunction isOpen(workingHours, day = moment()) {\r\n\r\n    /*@todo Pošto sada imamo array treba da se sredi da posle 00:00 gleda closing time od prethodnog dana */\r\n\r\n\r\n    let [openingTime, closingTime] = workingHours.split(\" - \");\r\n\r\n    function getMomentForTime(time, day) {\r\n        const [hours, minutes] = time.split(\":\");\r\n        return moment(day).set({ hours, minutes, seconds: 0, millisecond: 0 });\r\n    }\r\n\r\n    let opening = getMomentForTime(openingTime, day);\r\n    let closing = getMomentForTime(closingTime, day);\r\n\r\n    //! Ako je isti openign i closing, odna je 24h open, treba handluejs i ovaj case.\r\n    if (closing.isSame(opening)) {\r\n        // return \"24/7\";\r\n        return true;\r\n    }\r\n\r\n    //! Ako je trenutno vreme prešlo 00:00, vreme zatvaranja je pre otvoranja i trenutno vreme je pre vremena zatvaranja\r\n    if (closing.isBefore(opening) && moment(day).isBefore(closing)) {\r\n        return true;\r\n    }\r\n\r\n    //! Ako prodje 00:00, to znaci da prebacimo u sledeci dan.\r\n    if (closing.isBefore(opening)) {\r\n        closing = moment(closing).add({ days: 1 });\r\n    }\r\n\r\n    // Da li je trenutno vreme izmedju dva momenta.\r\n    return moment(day).isBetween(opening, closing, null, \"()\");\r\n}\r\n\r\nconst roundToPrecision = (x, precision) => {\r\n    var y = +x + (precision === undefined ? 0.5 : precision / 2);\r\n    return y - (y % (precision === undefined ? 1 : +precision));\r\n}\r\n\r\nexport {\r\n    isOpen,\r\n    roundToPrecision\r\n}","import React, {\r\n    useEffect,\r\n    useContext,\r\n    useState\r\n} from 'react';\r\n\r\n/* Data */\r\nimport kafici from '../data/kafici';\r\n\r\n/* Components */\r\nimport ComingSoonModal from '../Components/ComingSoonModal';\r\n\r\n/* Packages & libraries */\r\nimport _ from 'lodash';\r\nimport { isOpen } from '../library/common';\r\n\r\n/* Router */\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n/* LOADER */\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport moment from 'moment';\r\n\r\n\r\nlet DataContext;\r\n\r\nconst { Provider, Consumer } = DataContext = React.createContext({});\r\n\r\nconst DataProvider = (props) => {\r\n    // let { id } = useParams();\r\n    // User\r\n    const [User, setUser] = useState(\r\n        {\r\n            ...JSON.parse(localStorage.getItem('User'))\r\n        }\r\n    );\r\n    // Original data\r\n    const [Data, setData] = useState([]);\r\n    // Filtered\r\n    const [filteredData, setFilteredData] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const [filters, setFilters] = useState([]);\r\n    // Sorted\r\n    const [sortedOpen, setSortedOpen] = useState([]);\r\n    const [sortedClosed, setSortedClosed] = useState([]);\r\n    // Current page/data\r\n    const [currentData, setCurrentData] = useState({});\r\n    // Coming soon modal\r\n    const [showComingSoonModal, setShowComingSoonModal] = useState(false);\r\n    // Timer za rezervaciju\r\n    const [timer, setTimer] = useState(null);\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    // const [authorized, setAuthorized] = useState(false);\r\n\r\n    /* const updateFromServer = () => {\r\n        return fetch(\"/update/all\")\r\n            .then(({ data }) => {\r\n                setLoading(false)\r\n                return setData([...data]);\r\n            })\r\n            .catch(({ message }) => {\r\n                return toast.error(message);\r\n            });\r\n    } */\r\n\r\n    const updateWithMockData = () => {\r\n        let authorized = isAuthorized(),\r\n            timeout;\r\n\r\n        /* if (authorized) {\r\n          fetch('http://178.17.17.197:7000/lista-kafica')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n              console.log(data)\r\n              if (!data || !data.length) {\r\n                setData(mockData);\r\n              } else {\r\n                //Doing this just to show loader for a little bit :)\r\n                setTimeout(() => {\r\n                  setData(data);\r\n                }, 1500)\r\n              }\r\n            }).catch(() => {\r\n              console.log('error')\r\n              setData(mockData);\r\n            });\r\n        } */\r\n\r\n\r\n        if (authorized) {\r\n            timeout = setTimeout(() => {\r\n                setData(kafici);\r\n                setLoading(false);\r\n            }, 1200)\r\n        } else {\r\n            props.history.push('/durango/app-login');\r\n        }\r\n\r\n        return () => {\r\n            clearTimeout(timeout);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateWithMockData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // updateFromServer();\r\n        // updateWithMockData(); OVO NE DIRAJ\r\n        /* Experiment @todo */\r\n        localStorage.setItem('User', JSON.stringify(User));\r\n    }, [User]);\r\n\r\n    useEffect(() => {\r\n        filterBySearch(search);\r\n\r\n        if (filters.indexOf('omiljeni') !== -1) {\r\n            filterByOmiljeni();\r\n        }\r\n\r\n    }, [search, Data, filters]);\r\n\r\n    useEffect(() => {\r\n        let day = moment().isoWeekday() - 1;\r\n        setSortedOpen(\r\n            [\r\n                ...filteredData.filter(\r\n                    item => isOpen(item.details.workingHours[day])\r\n                )\r\n            ]\r\n        );\r\n        setSortedClosed(\r\n            [\r\n                ...filteredData.filter(\r\n                    item => !isOpen(item.details.workingHours[day])\r\n                )\r\n            ]\r\n        );\r\n    }, [filteredData]);\r\n\r\n    useEffect(() => {\r\n        let int = null;\r\n\r\n        int = setInterval(() => {\r\n            setData(simulateUpdateData());\r\n        }, 1000)\r\n\r\n        return () => {\r\n            clearInterval(int);\r\n        }\r\n    }, [Data]);\r\n\r\n    useEffect(() => {\r\n        let int;\r\n\r\n        if (timer === 900) {\r\n            int = setInterval(() => {\r\n                setTimer(timer - 1);\r\n            }, 1000);\r\n        } else if (timer === 0) {\r\n            clearInterval(int);\r\n        }\r\n\r\n        // console.log(timer)\r\n\r\n        return () => {\r\n            clearInterval(int);\r\n        }\r\n    }, [timer]);\r\n\r\n    const simulateUpdateData = () => {\r\n        let IDs = _.map(Data, 'id'),\r\n            randomIDs = _.slice(_.shuffle(IDs), 0, 3),\r\n            day = moment().isoWeekday() - 1;;\r\n\r\n        return [...Data].map(item => {\r\n            if (_.includes(randomIDs, item.id) && isOpen(item.details.workingHours[day])) {\r\n                return {\r\n                    ...item,\r\n                    freeSpots: getNewNumber(item.freeSpots),\r\n                    spotsUpdatedAt: moment(),\r\n                    details: {\r\n                        ...item.details,\r\n                        volume: _.random(1, 3)\r\n                    }\r\n                }\r\n            }\r\n\r\n            return {\r\n                ...item\r\n            }\r\n        })\r\n    }\r\n\r\n    const getNewNumber = (old) => {\r\n        let bulk = Math.floor(Math.random() * 4);\r\n        return Math.floor(Math.random() * 10) > 5 || old < 3\r\n            ? old > 10\r\n                ? old - bulk\r\n                : old + bulk\r\n            : old - bulk;\r\n    }\r\n\r\n    const isAuthorized = () => {\r\n        let User = JSON.parse(localStorage.getItem('User'));\r\n\r\n        if (User && User.ID) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    const filterBySearch = (search = '') => {\r\n        let filtered = Data.filter(({ title }) => {\r\n            return title.trim().toLowerCase().indexOf(search.trim().toLowerCase()) > -1;\r\n        });\r\n\r\n        setFilteredData(_.orderBy(filtered, 'freeSpots', 'desc'));\r\n    };\r\n\r\n    const filterByOmiljeni = () => {\r\n        let filtered = Data.filter(({ id }) => User.Favourites.indexOf(id) !== -1);\r\n\r\n        setFilteredData(_.orderBy(filtered, 'freeSpots', 'desc'));\r\n    };\r\n\r\n    const toggleFavourite = (fav) => {\r\n        let nextState = { ...User };\r\n\r\n        if (nextState.Favourites.indexOf(fav) === -1) {\r\n            nextState = {\r\n                ...User,\r\n                Favourites: [\r\n                    ...nextState.Favourites,\r\n                    fav\r\n                ]\r\n            }\r\n        } else {\r\n            nextState.Favourites = nextState.Favourites.filter(f => f !== fav);\r\n        }\r\n\r\n        return setUser(nextState);\r\n    }\r\n\r\n    const fastReserve = (ID, Time) => {\r\n        let nextState = { ...User };\r\n\r\n        // console.log(ID, Time);\r\n\r\n        if (nextState.Reservation.ID) {\r\n            //@todo provera\r\n        }\r\n\r\n        nextState = {\r\n            ...User,\r\n            Reservation: {\r\n                ID,\r\n                Time\r\n            }\r\n        }\r\n\r\n        // setTimer(900);\r\n\r\n        return setUser(nextState);\r\n    }\r\n\r\n    const changeData = ({ id, ...restOfData }) => {\r\n        let nextState = [...Data];\r\n\r\n        if (!!_.find(Data, { id })) {\r\n            nextState = Data.map((item) => {\r\n                if (item.id === id) {\r\n                    return { id, ...restOfData };\r\n                }\r\n\r\n                return item;\r\n            });\r\n        } else {\r\n            nextState = [{ id, ...restOfData }, ...nextState];\r\n        }\r\n\r\n        return setData(nextState);\r\n    }\r\n\r\n    const changeClaps = ({ ID, userAplauza }) => {\r\n        let nextState = {\r\n            ...User,\r\n            Claps: [\r\n                ...User.Claps,\r\n                {\r\n                    ID,\r\n                    userAplauza\r\n                }\r\n            ]\r\n        }\r\n\r\n        return setUser(nextState);\r\n    }\r\n\r\n    const changeSearch = (value) => {\r\n        setSearch(value);\r\n    }\r\n\r\n    const toggleFilters = (value) => {\r\n        let nextFilters = [...filters];\r\n\r\n        if (nextFilters.indexOf(value) === -1) {\r\n            nextFilters.push(value);\r\n        } else {\r\n            nextFilters = nextFilters.filter(f => f !== value);\r\n        }\r\n\r\n        return setFilters(nextFilters);\r\n    }\r\n\r\n    return (\r\n        <Provider\r\n            value={{\r\n                User,\r\n                changeClaps,\r\n                toggleFavourite,\r\n                Data,\r\n                filteredData,\r\n                sortedOpen,\r\n                sortedClosed,\r\n                search,\r\n                changeSearch,\r\n                changeData,\r\n                loading,\r\n                filterBySearch,\r\n                filters,\r\n                toggleFilters,\r\n                currentData,\r\n                setCurrentData,\r\n                fastReserve,\r\n                // setTimer,\r\n                timer,\r\n                setShowComingSoonModal\r\n            }}\r\n        >\r\n            {props.children}\r\n            <LoaderComponent />\r\n            <ComingSoonModal show={showComingSoonModal} onHide={() => {setShowComingSoonModal(false);}}/>\r\n        </Provider>\r\n    )\r\n}\r\n\r\nconst DataConsumer = (props) => {\r\n    return (\r\n        <Consumer>\r\n            {context => {\r\n                if (!context) {\r\n                    throw new Error('Using DataConsumer outside of DataProvider');\r\n                }\r\n\r\n                return props.children(context);\r\n            }}\r\n        </Consumer>\r\n    )\r\n}\r\n\r\nconst LoaderComponent = () => {\r\n    const { loading } = useContext(DataContext);\r\n\r\n    return <div className=\"loader\">\r\n        <Loader\r\n            type=\"Grid\"\r\n            color=\"#3185FC\"\r\n            height={100}\r\n            width={100}\r\n            visible={loading}\r\n        />\r\n    </div>\r\n}\r\n\r\nexport {\r\n    DataProvider,\r\n    DataConsumer\r\n};\r\n\r\nexport default DataContext;","import React, {\r\n    useEffect,\r\n    useContext,\r\n    useState\r\n} from 'react';\r\n\r\n/* Data */\r\nimport kafici from '../data/kafici';\r\n\r\n/* Packages & libraries */\r\nimport _ from 'lodash';\r\nimport { isOpen } from '../library/common';\r\n\r\n/* Router */\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n/* LOADER */\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport moment from 'moment';\r\n\r\n\r\nlet ObjectContext;\r\n\r\nconst { Provider, Consumer } = ObjectContext = React.createContext({});\r\n\r\nconst ObjectProvider = (props) => {\r\n\r\n    const [Data, setData] = useState();\r\n    const [ID, setID] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setData([...kafici]);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let findData = {};\r\n        if (ID) {\r\n            findData = { ..._.find(Data, { 'id': parseInt(ID, 10) }) };\r\n        }\r\n\r\n        if (findData.id) {\r\n            props.history.push('/durango/inputPanel/' + ID);\r\n        }\r\n    }, [ID]);\r\n\r\n    return (\r\n        <Provider\r\n            value={{\r\n                ID,\r\n                setID,\r\n                loading,\r\n                Data,\r\n            }}\r\n        >\r\n            {props.children}\r\n            <LoaderComponent />\r\n        </Provider>\r\n    )\r\n}\r\n\r\nconst ObjectConsumer = (props) => {\r\n    return (\r\n        <Consumer>\r\n            {context => {\r\n                if (!context) {\r\n                    throw new Error('Using ObjectConsumer outside of ObjectProvider');\r\n                }\r\n\r\n                return props.children(context);\r\n            }}\r\n        </Consumer>\r\n    )\r\n}\r\n\r\nconst LoaderComponent = () => {\r\n    const { loading } = useContext(ObjectContext);\r\n\r\n    return <div className=\"loader\">\r\n        <Loader\r\n            type=\"Grid\"\r\n            color=\"#3185FC\"\r\n            height={100}\r\n            width={100}\r\n            visible={loading}\r\n        />\r\n    </div>\r\n}\r\n\r\nexport {\r\n    ObjectProvider,\r\n    ObjectConsumer\r\n};\r\n\r\nexport default ObjectContext;","/* React */\r\nimport React, {\r\n    useState,\r\n    useEffect,\r\n    Fragment,\r\n    useContext\r\n} from 'react';\r\n\r\n/* Data */\r\nimport Logo from '../ExtendedLogo/Logo.png';\r\nimport noResultsIcon from '../CustomIcons/noResults.png';\r\nimport noFavoritesIcon from '../CustomIcons/noFavorites.png';\r\nimport defaultLogo from '../CustomIcons/defaultLogo.png';\r\n\r\n/* Libraries */\r\nimport _ from 'lodash';\r\nimport queryString from 'query-string';\r\nimport moment from 'moment';\r\n\r\n/* Animations */\r\nimport Fade from 'react-reveal/Fade';\r\nimport FlipMove from 'react-flip-move';\r\n\r\n/* Icons */\r\nimport Star from '../icons/star.svg';\r\nimport Seat from '../icons/seat.svg';\r\nimport SeatGray from '../icons/seat_gray.svg';\r\nimport SeatOrange from '../icons/seat_orange.svg';\r\nimport watchBlue from '../icons/watchBlue.svg';\r\n\r\n/* Components & LOADER */\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport AbsoluteWrapper from '../Components/AbsoluteWrapper';\r\n\r\n/* Context */\r\nimport DataContext, { DataProvider } from '../Context/dataContext';\r\n\r\nconst Search = () => {\r\n    const { search, changeSearch } = useContext(DataContext);\r\n\r\n    return (\r\n        <div className=\"search\">\r\n            <i className=\"material-icons-outlined searchIcon\">\r\n                search\r\n            </i>\r\n            <input\r\n                className=\"searchInput\"\r\n                placeholder=\"Pretraži...\"\r\n                value={search}\r\n                onChange={(e) => {\r\n                    changeSearch(e.target.value);\r\n                }}\r\n            />\r\n            {\r\n                search && <i\r\n                    className=\"material-icons-outlined resetSearchIcon\"\r\n                    onClick={() => {\r\n                        changeSearch('');\r\n                    }}\r\n                >\r\n                    close\r\n                </i>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst getTrimmedTitle = (title, n) => {\r\n    if (title.length > n) {\r\n        return title.slice(0, n) + '...';\r\n    }\r\n\r\n    return title;\r\n}\r\n\r\nconst Separator = () => {\r\n    return (\r\n        <div className=\"listSeparator\">Zatvoreni</div>\r\n    )\r\n}\r\n\r\nconst LabelBadge = ({ label = 'ZATVORENO', color = '#596164', Reservation, object }) => {\r\n    const { User } = useContext(DataContext);\r\n\r\n    const [timer, setTimer] = useState('');\r\n\r\n    const isReserved = (obj) => {\r\n        if (!User.Reservation || !obj) {\r\n            return false;\r\n        }\r\n\r\n        // Is current time behind Reserved Time\r\n        let flag = moment(User.Reservation.Time, 'HH:mm').isAfter();\r\n\r\n        if (flag && User.Reservation.ID === obj.id) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    useEffect(() => {\r\n        let interval;\r\n\r\n        const updateTimer = () => {\r\n            setTimer(\r\n                moment.utc(moment(Reservation.Time, 'HH:mm').diff(moment(), 'seconds') * 1000).format('mm:ss')\r\n            );\r\n        }\r\n\r\n        if (isReserved(object)) {\r\n            updateTimer();\r\n            interval = setInterval(() => {\r\n                updateTimer();\r\n                if (!isReserved(object)) {\r\n                    // Timer is over!\r\n                    // Do something\r\n                    // And clearInterval\r\n                    clearInterval(interval);\r\n                }\r\n            }, 1000);\r\n        }\r\n\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    return (\r\n        <div\r\n            className=\"listBadge\"\r\n            style={\r\n                {\r\n                    backgroundColor: color,\r\n                    // backgroundImage: color,\r\n                    // color:\r\n                }\r\n            }\r\n        >\r\n            {\r\n                label === 'REZERVISANO' ? label + ' | ' + timer : label\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst FavoritBadge = ({ color = '#596164' }) => {\r\n    return (\r\n        <div\r\n            className=\"favoritBadgeContainer\"\r\n            style={\r\n                {\r\n                    backgroundColor: color\r\n                }\r\n            }\r\n        >\r\n            {/* <i\r\n                className=\"material-icons-outlined favoritBadge\"\r\n                style={{\r\n                    fontSize: '18px'\r\n                }}\r\n            >\r\n                star\r\n            </i> */}\r\n\r\n            <img src={Star} className=\"svgIconSmallest favoritBadge\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UpdatedBadge = ({ color = 'white', object }) => {\r\n    // moment().locale('sr'); @todo\r\n\r\n    const [label, setLabel] = useState(moment(object.spotsUpdatedAt).fromNow());\r\n\r\n    useEffect(() => {\r\n        let interval;\r\n\r\n        const updateLabel = () => {\r\n            setLabel(moment(object.spotsUpdatedAt).fromNow());\r\n        }\r\n\r\n        updateLabel();\r\n        interval = setInterval(() => {\r\n            updateLabel();\r\n            // clearInterval(interval);\r\n        }, 1000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [object.spotsUpdatedAt]);\r\n\r\n\r\n    return (\r\n        <div\r\n            className=\"updatedBadge\"\r\n            style={\r\n                {\r\n                    color,\r\n                    background: object.freeSpots === 0\r\n                        ? 'linear-gradient(to top right, #f83600 0%, #f9d423 100%)'\r\n                        : 'linear-gradient(to top right, #00c6fb 0%, #005bea 100%)'\r\n                }\r\n            }\r\n        >\r\n            <p>{label}</p>\r\n            {/* <img src={watchBlue} className=\"svgIconSmallest updatedBadgeIcon\" /> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst List = ({ history }) => {\r\n    const { filteredData, sortedOpen, sortedClosed, loading, User, filters } = useContext(DataContext);\r\n\r\n    const isReserved = (obj) => {\r\n        if (!User.Reservation) {\r\n            return false;\r\n        }\r\n\r\n        // Is current time behind Reserved Time\r\n        let flag = moment(User.Reservation.Time, 'HH:mm').isAfter();\r\n\r\n        if (flag && User.Reservation.ID === obj.id) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    if (!(Array.isArray(filteredData) && filteredData.length)) {\r\n        if (loading) return null;\r\n\r\n        if (filters.indexOf('omiljeni') !== -1) {\r\n            return (\r\n                <div className=\"noResults boldText\">\r\n                    <h1>\r\n                        Objekte koje označite zvezdicom pojaviće se ovde kao omiljeni\r\n                    </h1>\r\n                    <img className=\"noResultsIcon\" src={noFavoritesIcon} />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"noResults boldText\">\r\n                <h1>\r\n                    Mesto koje tražite nije pronađeno\r\n                </h1>\r\n                <img className=\"noResultsIcon\" src={noResultsIcon} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return <Fragment>\r\n        <FlipMove\r\n            duration={300}\r\n            easing=\"ease-out\"\r\n            appearAnimation=\"none\"\r\n            enterAnimation=\"none\"\r\n            leaveAnimation=\"none\"\r\n            staggerDurationBy={100}\r\n        // verticalAlignment=\"bottom\"\r\n        // maintainContainerHeight=\"true\"\r\n        >\r\n            {\r\n                sortedOpen.map(Kafic => {\r\n                    return (\r\n                        <div\r\n                            key={Kafic.id}\r\n                            className={`button ${isReserved(Kafic) ? 'reservedObject' : \"normalObject\"} ${Kafic.preporuka ? 'preporukaObject' : \"\"}`}\r\n                            onClick={() => {\r\n                                history.push(`/durango/app/${Kafic.id}`);\r\n                            }}\r\n                        >\r\n                            <Fade\r\n                                key={Kafic.id}\r\n                                duration={300}\r\n                                bottom\r\n                                opposite\r\n                                cascade\r\n                            >\r\n                                <div className=\"singleLine\">\r\n                                    <img\r\n                                        className=\"listLogo\"\r\n                                        src={\r\n                                            Kafic.logo\r\n                                                ? `${process.env.PUBLIC_URL}/slike/mockLogos/${Kafic.logo}`\r\n                                                : defaultLogo\r\n                                        }\r\n                                    />\r\n                                    <h1 className=\"linetitle \">{getTrimmedTitle(Kafic.title, 15)}</h1>\r\n                                    <p className=\"lineFreeSeats boldText greyText\">\r\n                                        {\r\n                                            Kafic.freeSpots >= 10\r\n                                                ? '10+'\r\n                                                : Kafic.freeSpots\r\n                                        }\r\n                                    </p>\r\n                                    <i\r\n                                        className=\"material-icons-outlined peopleIcon\"\r\n                                    >\r\n                                        <img\r\n                                            src={\r\n                                                Kafic.freeSpots > 0\r\n                                                    ? Seat\r\n                                                    : SeatOrange\r\n                                            }\r\n                                            className=\"svgIcon\"\r\n                                        />\r\n                                    </i>\r\n                                    {\r\n                                        isReserved(Kafic) && <LabelBadge\r\n                                            label=\"REZERVISANO\"\r\n                                            color=\"#005bea\"\r\n                                            Reservation={User.Reservation}\r\n                                            object={Kafic}\r\n                                        />\r\n                                    }\r\n                                </div>\r\n                            </Fade>\r\n                            {\r\n                                User.Favourites.indexOf(Kafic.id) !== -1 && <FavoritBadge color=\"#005bea\" />\r\n                            }\r\n                            {\r\n                                Kafic.spotsUpdatedAt && <UpdatedBadge\r\n                                    color=\"white\"\r\n                                    object={Kafic}\r\n                                />\r\n                            }\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </FlipMove>\r\n        {sortedClosed.length > 0 && <Separator />}\r\n        <FlipMove\r\n            duration={300}\r\n            easing=\"ease-out\"\r\n            appearAnimation=\"none\"\r\n            enterAnimation=\"none\"\r\n            leaveAnimation=\"none\"\r\n            staggerDurationBy={100}\r\n        // verticalAlignment=\"bottom\"\r\n        // maintainContainerHeight=\"true\"\r\n        >\r\n            {\r\n                sortedClosed.map(Kafic => {\r\n                    return <div\r\n                        key={Kafic.id}\r\n                        className=\"closedObject button\"\r\n                        onClick={() => {\r\n                            history.push(`/durango/app/${Kafic.id}`);\r\n                        }}\r\n                    >\r\n                        <div className=\"singleLine\">\r\n                            <img\r\n                                className=\"listLogo\"\r\n                                src={\r\n                                    Kafic.logo\r\n                                        ? `${process.env.PUBLIC_URL}/slike/mockLogos/${Kafic.logo}`\r\n                                        : defaultLogo\r\n                                }\r\n                            />\r\n                            <h1 className=\"linetitle\">{getTrimmedTitle(Kafic.title, 15)}</h1>\r\n                            <p className=\"lineFreeSeats boldText greyText\">\r\n                                {\r\n                                    Kafic.freeSpots >= 10\r\n                                        ? '10+'\r\n                                        : Kafic.freeSpots\r\n                                }\r\n                            </p>\r\n                            <i\r\n                                className=\"material-icons-outlined peopleIcon\"\r\n                                style={{\r\n                                    color: '#B0B0B0'\r\n                                }}\r\n                            >\r\n                                {/* people */}\r\n                                {/* event_seat */}\r\n                                <img src={SeatGray} className=\"svgIcon\" />\r\n                            </i>\r\n                            <LabelBadge />\r\n                        </div>\r\n                        {\r\n                            User.Favourites.indexOf(Kafic.id) !== -1 && <FavoritBadge />\r\n                        }\r\n                    </div>\r\n                })\r\n            }\r\n        </FlipMove>\r\n    </Fragment>\r\n}\r\n\r\nconst ListAndSearch = ({ history }) => {\r\n    const { toggleFilters, changeSearch, loading, filters } = useContext(DataContext);\r\n\r\n    const isTurnedOn = () => {\r\n        return filters.indexOf('omiljeni') !== -1\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"mainHeader\">\r\n                <img src={Logo} className=\"logoHeader\" />\r\n                <Search />\r\n            </div>\r\n            {\r\n                !loading && <div className=\"filtersContainer\">\r\n                    <div className=\"filterChipContainer\">\r\n                        <div\r\n                            className={`filterChip ${isTurnedOn() ? 'filterChipActive' : ''}`}\r\n                            onClick={() => {\r\n                                toggleFilters('omiljeni');\r\n                                changeSearch('');\r\n                            }}\r\n                        >\r\n                            {\r\n                                isTurnedOn()\r\n                                    ? 'Prikaži sve'\r\n                                    : 'Prikaži omiljene'\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n            <div className=\"listHolder\">\r\n                <List history={history} />\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nconst MainScreen = ({ history }) => {\r\n    return (\r\n        <div className=\"list\">\r\n            <ListAndSearch history={history} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Home = props => {\r\n    return (\r\n        // <div className=\"container\">\r\n        <div className=\"App\">\r\n            <MainScreen history={props.history} />\r\n        </div>\r\n        // </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import React, { useEffect, useState, useContext } from 'react';\r\n\r\n/* Libraries */\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\nimport { isOpen } from '../../library/common';\r\nimport Particles from 'react-particles-js';\r\n\r\n/* Router */\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n/* Default Logo */\r\nimport defaultLogo from '../../CustomIcons/defaultLogo.png';\r\n\r\n/* Data */\r\nimport Logo from '../../ExtendedLogo/Logo.png';\r\nimport kafici from '../../data/kafici';\r\n\r\n/* Context */\r\nimport ObjectContext, { ObjectProvider } from '../../Context/objectContext';\r\n\r\nconst ObjectLogin = ({ history }) => {\r\n\r\n    const { setID, loading } = useContext(ObjectContext);\r\n\r\n    const [title, setTitle] = useState(\"\");\r\n    const [key, setKey] = useState(\"\");\r\n    const [id, setId] = useState(\"\");\r\n\r\n    const entering = () => {\r\n        if (!id) return;\r\n\r\n        let findData = { ..._.find(kafici, { 'id': parseInt(id, 10) }) };\r\n\r\n        if (!findData.id) {\r\n            alert(\"Nije pronađen objekat sa ovim ID-em\");\r\n        } else {\r\n            history.replace(`/durango/inputPanel/${findData.id}`);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"IP-Login\">\r\n            <div className=\"IP-LoginForm\">\r\n                <img src={Logo} className=\"IP-Login-Logo\" />\r\n                {/* <p>Naziv objekta</p>\r\n                <input className=\"IP-Login-Input\" type=\"text\" value={title} onChange={(e) => { setTitle(e.target.value) }} />\r\n                <p>Key</p>\r\n                <input className=\"IP-Login-Input\" type=\"text\" value={key} onChange={(e) => { setKey(e.target.value) }} /> */}\r\n                <p>ID Objekta:</p>\r\n                <input className=\"IP-Login-Input\" type=\"number\" value={id} onChange={(e) => { setId(parseInt(e.target.value), 10) }} />\r\n                <button\r\n                    className=\"IP-input-imaMesta IP-clickable\"\r\n                    onClick={() => {\r\n                        // history.push('/durango/inputPanel/' + id);\r\n                        entering();\r\n                    }}\r\n                >\r\n                    Udji\r\n                </button>\r\n            </div>\r\n            <Particles\r\n                canvasClassName=\"IP-Login-Particles\"\r\n                params={{\r\n                    particles: {\r\n                        number: {\r\n                            value: 200,\r\n                            density: {\r\n                                enable: true,\r\n                                value_area: 1000,\r\n                            }\r\n                        },\r\n                    },\r\n                    interactivity: {\r\n                        events: {\r\n                            onhover: {\r\n                                enable: true,\r\n                                mode: \"repulse\"\r\n                            }\r\n                        }\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ObjectLogin;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useRef,\r\n    useState,\r\n    Fragment\r\n} from 'react';\r\n\r\n/* Libraries */\r\nimport _ from 'lodash';\r\n\r\n/* webComponent */\r\nimport 'emoji-slider';\r\n\r\n/* Components */\r\nimport { Modal } from 'react-bootstrap';\r\n\r\n/* Animations */\r\nimport RubberBand from 'react-reveal/RubberBand';\r\nimport { Spring } from 'react-spring/renderprops';\r\n\r\n/* Context */\r\nimport DataContext, { DataProvider } from '../Context/dataContext';\r\n\r\nconst Claps = ({ data, data: { details, details: { totalClaps, numberOfGrades } } }) => {\r\n    const { changeData, User: { Claps }, changeClaps } = useContext(DataContext);\r\n\r\n    const userAplauza = () => {\r\n        let obj = _.find(Claps, { ID: data.id });\r\n        if (!obj) {\r\n            return 0;\r\n        }\r\n\r\n        return obj.userAplauza;\r\n    };\r\n\r\n    const [showSlider, setShowSlider] = useState(false);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [localClaps, setLocalClaps] = useState(0);\r\n\r\n    const slider = useRef(null);\r\n    let interval;\r\n\r\n    useEffect(() => {\r\n        slider.current.addEventListener('change', (e) => {\r\n            onChange(e.detail.value);\r\n        });\r\n\r\n        return () => {\r\n            slider.current.removeEventListener('change', (e) => {\r\n                onChange(e.detail.value);\r\n            });\r\n            clearTimeout(interval);\r\n        }\r\n    }, []);\r\n\r\n    const onChange = (value) => {\r\n        if (userAplauza() > 0) {\r\n            alert('Hvala! Već si 👏 ovom objektu');\r\n            return;\r\n        } else {\r\n            let ceildValue = Math.ceil(value * 5);\r\n            setLocalClaps(ceildValue);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (localClaps > 0) {\r\n            clearTimeout(interval);\r\n            interval = setTimeout(() => {\r\n                finishedRating();\r\n            }, 1000);\r\n        }\r\n\r\n        return () => {\r\n            clearTimeout(interval);\r\n        }\r\n    }, [localClaps]);\r\n\r\n    const finishedRating = () => {\r\n        setShowSlider(false);\r\n\r\n        // Update caffe\r\n        changeData({\r\n            ...data,\r\n            details: {\r\n                ...details,\r\n                totalClaps: totalClaps + localClaps,\r\n                numberOfGrades: userAplauza() === 0 ? numberOfGrades + 1 : numberOfGrades\r\n            }\r\n        });\r\n\r\n        // Update User object\r\n        changeClaps({\r\n            ID: data.id,\r\n            userAplauza: localClaps\r\n        });\r\n    }\r\n\r\n    const renderNumber = (num) => {\r\n        return (\r\n            <Spring\r\n                from={{ number: 100 }}\r\n                to={{ number: parseInt(num, 10) }}>\r\n                {\r\n                    props =>\r\n                        <span className=\"boldText\">\r\n                            {\r\n                                showSlider\r\n                                    ? `+${localClaps}`\r\n                                    : Math.ceil(props.number)\r\n                            }\r\n                        </span>\r\n                }\r\n            </Spring>\r\n        )\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setShowModal(false);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div\r\n                className=\"clapsContainer\"\r\n                style={{\r\n                    left: showSlider ? 0 : '' // Dok nije aktivan da može da se klikne na nešto ispod\r\n                }}\r\n            >\r\n                <RubberBand\r\n                    when={showSlider}\r\n                    duration={500}\r\n                    opposite={true}\r\n                >\r\n                    <div className={`clapsSliderContainer ${!showSlider && 'd-none'}`}>\r\n                        <emoji-slider emoji=\"👏\" value={0.5} step={0.2} ref={slider}></emoji-slider>\r\n                    </div>\r\n                </RubberBand>\r\n                <div\r\n                    className=\"clapsTriggerContainer\"\r\n                    onClick={() => {\r\n                        if (userAplauza() > 0) {\r\n                            setShowModal(true);\r\n                            return;\r\n                        }\r\n                        setShowSlider(!showSlider);\r\n                    }}\r\n                >\r\n                    <span>👏</span>\r\n                    {\r\n                        renderNumber(totalClaps)\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal\r\n                show={showModal}\r\n                onHide={handleClose}\r\n                centered\r\n            >\r\n                <Modal.Body>\r\n                    <div className=\"reserveModalContainer\" style={{ padding: '20px' }}>\r\n                        <h6 className=\"boldText\">Hvala! Već si 👏 objektu {data.title}</h6>\r\n                        <p>Ukupno 👏: {data.details.totalClaps}</p>\r\n                        <p>Prosečno 👏: {(data.details.totalClaps / data.details.numberOfGrades).toPrecision(2)}</p>\r\n                        <p>Tvojih 👏: {userAplauza()}</p>\r\n                        <div\r\n                            className=\"detailsRow clickableRow w-50\"\r\n                            onClick={() => {\r\n                                handleClose();\r\n                            }}\r\n                        >\r\n                            <h1 className=\"detailRowText boldText\">OK</h1>\r\n                        </div>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Claps;","import React, {\r\n    useEffect,\r\n    useState\r\n} from 'react';\r\n\r\n/* Logo */\r\nimport Logo from '../ExtendedLogo/Logo.png';\r\n\r\n/* Icons */\r\nimport BackArrow from '../icons/backArrow.svg';\r\n\r\n/* Animations */\r\nimport RubberBand from 'react-reveal/RubberBand';\r\n\r\nconst DetailsHeader = (props) => {\r\n    const [isSticky, setSticky] = useState(false);\r\n\r\n    const handleScroll = () => {\r\n        setSticky(window.pageYOffset !== 0);\r\n    };\r\n\r\n    useEffect(() => {\r\n        //@todo animate on scroll\r\n        /* window.addEventListener('scroll', handleScroll);\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', handleScroll);\r\n        }; */\r\n    }, []);\r\n\r\n    return (\r\n        <div className={`detailsHeader ${isSticky ? ' stickyDetailsHeader' : ''}`}>\r\n            <div\r\n                className=\"goBack\"\r\n                onClick={() => {\r\n                    props.history.push(props.back);\r\n                }}\r\n            >\r\n                {/* <i className=\"material-icons\">\r\n                    arrow_back_ios\r\n                </i> */}\r\n                <img src={BackArrow} className=\"svgIconBigger\" />\r\n            </div>\r\n            <img src={Logo} className={`detailsDurangoLogo ${isSticky ? ' stickyDurangoLogo' : ''}`} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailsHeader;","/* React */\r\nimport React, {\r\n    useState,\r\n    useEffect,\r\n    useContext,\r\n    Fragment\r\n} from 'react';\r\nimport '../App.css';\r\n\r\n/* Libraries */\r\nimport _ from 'lodash';\r\n\r\n/* Icons */\r\n// import Star from '../icons/star.svg';\r\n// import StarOutline from '../icons/starOutline.svg';\r\nimport Star from '../icons/star.svg';\r\nimport StarOutline from '../icons/star_white_border.svg';\r\nimport Info from '../icons/infoWhite.svg';\r\nimport Book from '../icons/bookWhite.svg';\r\nimport Seat from '../icons/seat.svg';\r\nimport SeatGray from '../icons/seat_gray.svg';\r\nimport SeatOrange from '../icons/seat_orange.svg';\r\nimport NearMe from '../icons/nearMeWhite.svg';\r\n\r\n/* Default Logo */\r\nimport defaultLogo from '../CustomIcons/defaultLogo.png';\r\n\r\n/* Router */\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n/* Library */\r\nimport { isOpen } from '../library/common';\r\nimport moment from 'moment';\r\n\r\n/* Components */\r\nimport Claps from '../Components/Claps';\r\nimport AbsoluteWrapper from '../Components/AbsoluteWrapper';\r\n\r\n/* Animations */\r\nimport Bounce from 'react-reveal/Bounce';\r\nimport Roll from 'react-reveal/Roll';\r\n\r\n/* Context */\r\nimport DataContext, { DataProvider } from '../Context/dataContext';\r\n\r\nconst placeholderObj = {\r\n    id: 0,\r\n    title: '',\r\n    logo: '',\r\n    totalSpots: 0,\r\n    freeSpots: 0,\r\n    details: {\r\n        description: '',\r\n        images: '',\r\n        workingHours: '',\r\n        location: '',\r\n        menu: ''\r\n    }\r\n}\r\n\r\nconst UkupnoMestaBadge = ({ color = 'white', object }) => {\r\n    // moment().locale('sr'); @todo\r\n\r\n    return (\r\n        <div\r\n            className=\"updatedBadge\"\r\n            style={\r\n                {\r\n                    top: 0,\r\n                    right: 0,\r\n                    bottom: 'auto',\r\n                    left: 'auto',\r\n                    color,\r\n                    fontSize: '12px',\r\n                    background: object.freeSpots === 0\r\n                        ? 'linear-gradient(to bottom left, #f83600 0%, #f9d423 100%)'\r\n                        : 'linear-gradient(to bottom left, #00c6fb 0%, #005bea 100%)'\r\n                }\r\n            }\r\n        >\r\n            <p>Ukupno mesta: {object.totalSpots}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst UpdatedBadge = ({ color = 'white', object }) => {\r\n    // moment().locale('sr'); @todo\r\n\r\n    return (\r\n        <div\r\n            className=\"updatedBadge\"\r\n            style={\r\n                {\r\n                    color,\r\n                    fontSize: '12px',\r\n                    background: object.freeSpots === 0\r\n                        ? 'linear-gradient(to top right, #f83600 0%, #f9d423 100%)'\r\n                        : 'linear-gradient(to top right, #00c6fb 0%, #005bea 100%)'\r\n                }\r\n            }\r\n        >\r\n            <p>Poslednje ažuriranje u: {moment(object.spotsUpdatedAt).format('HH:mm:ss')}</p>\r\n            {/* <img src={watchBlue} className=\"svgIconSmallest updatedBadgeIcon\" /> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Details(props) {\r\n    let { id } = useParams();\r\n    const { Data, loading, changeData, setCurrentData, User, toggleFavourite, setShowComingSoonModal } = useContext(DataContext);\r\n    const [data, setData] = useState({ ...placeholderObj });\r\n    const [timer, setTimer] = useState('');\r\n\r\n    useEffect(() => {\r\n        let findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) || placeholderObj };\r\n\r\n        setData(findData);\r\n        setCurrentData(findData);\r\n    }, [Data]);\r\n\r\n\r\n    useEffect(() => {\r\n        let interval;\r\n\r\n        const updateTimer = () => {\r\n            setTimer(\r\n                moment.utc(moment(User.Reservation.Time, 'HH:mm').diff(moment(), 'seconds') * 1000).format('mm:ss')\r\n            );\r\n        }\r\n\r\n        if (isReserved(data)) {\r\n            updateTimer();\r\n            interval = setInterval(() => {\r\n                updateTimer();\r\n            }, 1000);\r\n        }\r\n\r\n        return () => clearInterval(interval);\r\n    }, [data]);\r\n\r\n    const isFavourite = () => {\r\n        return User.Favourites.indexOf(data.id) !== -1\r\n    }\r\n\r\n    const getRadnoVreme = () => {\r\n        let day = moment().isoWeekday() - 1;\r\n        const open = isOpen(data.details.workingHours[day]);\r\n\r\n        return <p className=\"randoVremeParagraph\">\r\n            <span className=\"greyText\">{open ? 'Otvoreno: ' : 'Zatvoreno: '}</span>\r\n            <span style={{ color: open ? '#009A1F' : 'orangered' }}>{data.details.workingHours[day]}</span>\r\n        </p>;\r\n    }\r\n\r\n    const isReserved = (obj) => {\r\n        if (!User.Reservation) {\r\n            return false;\r\n        }\r\n\r\n        // Is current time behind Reserved Time\r\n        let flag = moment(User.Reservation.Time, 'HH:mm').isAfter();\r\n\r\n        if (User.Reservation.ID === obj.id && flag) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    const restOfPage = () => {\r\n        let day = moment().isoWeekday() - 1;\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"detailsSubheader\">\r\n                    <div>\r\n                        <h1 className=\"detailsTitle boldText\">{data.title}</h1>\r\n                        {/* <i className=\"material-icons-outlined greyText\">\r\n                        access_time\r\n                    </i> */}\r\n                        {getRadnoVreme()}\r\n                    </div>\r\n                    <Roll\r\n                        right\r\n                        duration={500}\r\n                    >\r\n                        <div>\r\n                            <img\r\n                                src={\r\n                                    data.logo\r\n                                        ? `${process.env.PUBLIC_URL}/slike/mockLogos/${data.logo}`\r\n                                        : defaultLogo\r\n                                }\r\n                                className={\r\n                                    `detailsLogo reveal-focus-${\r\n                                    data.freeSpots && isOpen(data.details.workingHours[day]) > 0\r\n                                        ? 'blue'\r\n                                        : 'orange'\r\n                                    }`\r\n                                }\r\n                            />\r\n                        </div>\r\n                    </Roll>\r\n                </div>\r\n                <div className=\"detailsRowMax\">\r\n                    <h1 className=\"detailRowText\">\r\n                        Slobodnih mesta:\r\n                    <span style={{\r\n                            color: data.freeSpots > 0 ? '#3185FC' : 'orangered',\r\n                        }}>\r\n                            {\r\n                                ` ${\r\n                                data.freeSpots >= 10\r\n                                    ? '10+'\r\n                                    : data.freeSpots\r\n                                } `\r\n                            }\r\n                        </span>\r\n                        {/* / {data.totalSpots} */}\r\n                    </h1>\r\n                    <img\r\n                        src={\r\n                            data.freeSpots > 0\r\n                                ? Seat\r\n                                : SeatOrange\r\n                        }\r\n                        className=\"svgIcon\"\r\n                    />\r\n                    {\r\n                        data.spotsUpdatedAt && <UpdatedBadge\r\n                            color=\"white\"\r\n                            object={data}\r\n                        />\r\n                    }\r\n                    {\r\n                        data.totalSpots && <UkupnoMestaBadge\r\n                            color=\"white\"\r\n                            object={data}\r\n                        />\r\n                    }\r\n                </div>\r\n                <div\r\n                    className=\"detailsRow clickableRow\"\r\n                    onClick={() => {\r\n                        setShowComingSoonModal(true);\r\n                        props.history.push(`/durango/app/${data.id}/reserve`);\r\n                    }}\r\n                >\r\n                    <h1 className=\"detailRowText boldText\">\r\n                        {\r\n                            isReserved(data)\r\n                                ? `Rezervisano: ${timer}`\r\n                                : 'Brza rezervacija'\r\n                        }\r\n                    </h1>\r\n                    <img\r\n                        src={Book}\r\n                        className=\"svgIconSmaller\"\r\n                    />\r\n                </div>\r\n                <div className=\"detailsRow clickableRow\" onClick={() => {\r\n                    props.history.push(`/durango/app/${data.id}/more`);\r\n                }}>\r\n                    <h1 className=\"detailRowText boldText\">O mestu</h1>\r\n                    {/* <i className=\"material-icons-outlined detailIconClickable\">\r\n                        info\r\n                </i> */}\r\n                    <img src={Info} className=\"svgIconSmaller detailIconClickable\" />\r\n                </div>\r\n                <div className=\"detailsRow clickableRow\" onClick={() => {\r\n                    toggleFavourite(data.id);\r\n                }}>\r\n                    <h1 className=\"detailRowText boldText\">\r\n                        {\r\n                            isFavourite()\r\n                                ? 'Ukloni iz omiljenih'\r\n                                : 'Dodaj u omiljene'\r\n                        }\r\n                    </h1>\r\n                    <Bounce\r\n                        spy={User.Favourites}\r\n                    >\r\n                        <img src={isFavourite() ? Star : StarOutline} className=\"svgIconSmaller detailIconClickable\" />\r\n                        {/* <i\r\n                            className=\"material-icons detailIconClickable\"\r\n                            style={{ color: isFavourite() ? 'gold' : '' }}\r\n                        >\r\n                            {isFavourite() ? 'star' : 'star_outline'}\r\n                        </i> */}\r\n                    </Bounce>\r\n                </div>\r\n                <div\r\n                    className=\"detailsRow clickableRow\"\r\n                    onClick={() => {\r\n                        window.open(data.details.location, '_blank');\r\n                    }}\r\n                >\r\n                    <h1 className=\"detailRowText boldText\">Prikaži na mapi</h1>\r\n                    <img\r\n                        src={NearMe}\r\n                        className=\"svgIconSmaller\"\r\n                    />\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n    return (\r\n        !loading && data.id && restOfPage()\r\n    );\r\n}\r\n\r\nexport default Details;\r\n","/* React */\r\nimport React, {\r\n    useEffect,\r\n    useState,\r\n    useContext,\r\n    Fragment\r\n} from 'react';\r\n\r\n/* Libraries */\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { roundToPrecision } from '../library/common';\r\n\r\n/* Components */\r\nimport { Carousel, Modal } from 'react-bootstrap';\r\n\r\n/* Animations */\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport Fade from 'react-reveal/Fade';\r\n\r\n/* Icons */\r\nimport Title from '../icons/titleBlue.svg';\r\nimport Watch from '../icons/watchBlue.svg';\r\nimport Call from '../icons/callBlue.svg';\r\nimport Audio from '../icons/audioBlue.svg';\r\nimport AudioLight from '../icons/audioLightblue.svg';\r\nimport Location from '../icons/locationBlue.svg';\r\nimport MenuBook from '../icons/menuBookWhite.svg';\r\n\r\n/* Slike */\r\nimport kafic1 from '../carouselMock/kafic1.jpg';\r\nimport kafic2 from '../carouselMock/kafic2.jpg';\r\nimport kafic3 from '../carouselMock/kafic3.jpg';\r\n\r\n/* Context */\r\nimport DataContext, { DataProvider } from '../Context/dataContext';\r\n\r\nconst placeholderObj = {\r\n    id: 0,\r\n    title: '',\r\n    logo: '',\r\n    totalSpots: 0,\r\n    freeSpots: 0,\r\n    details: {\r\n        description: '',\r\n        images: '',\r\n        workingHours: '',\r\n        location: '',\r\n        menu: ''\r\n    }\r\n};\r\n\r\nconst daysOfTheWeek = [\r\n    'Ponedeljak',\r\n    'Utorak',\r\n    'Sreda',\r\n    'Četvrtak',\r\n    'Petak',\r\n    'Subota',\r\n    'Nedelja'\r\n];\r\n\r\nfunction MoreDetails(props) {\r\n    let { id } = useParams();\r\n    const { Data, loading, setShowComingSoonModal } = useContext(DataContext);\r\n\r\n    const [data, setData] = useState({ ...placeholderObj });\r\n    const [showWHModal, setShowWHModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) || placeholderObj };\r\n\r\n        setData(findData);\r\n    }, [Data]);\r\n\r\n    const renderCarousel = () => {\r\n        return (\r\n            <Carousel\r\n                style={{ marginBottom: '10px' }}\r\n                interval={2500}\r\n                slide={true}\r\n            >\r\n                {\r\n                    [kafic1, kafic2, kafic3].map((item, index) => {\r\n                        return <Carousel.Item key={index}>\r\n                            <div>\r\n                                <img\r\n                                    className=\"d-block w-100\"\r\n                                    // src={'./slike/carouselMock/' + item}\r\n                                    src={item}\r\n                                    alt={(index + 1) + '. slika'}\r\n                                />\r\n                            </div>\r\n                            {/* <Carousel.Caption>\r\n                                <h3>{'Glavni tekst ' + (index + 1)}</h3>\r\n                                <p>{'Tekst opisa ' + (index + 1)}</p>\r\n                            </Carousel.Caption> */}\r\n                        </Carousel.Item>\r\n                    })\r\n                }\r\n            </Carousel>\r\n        )\r\n    }\r\n\r\n    const renderNumber = (num) => {\r\n        return (\r\n            <Spring\r\n                from={{ number: 0 }}\r\n                to={{ number: parseInt(num, 10) }}>\r\n                {props => <span>{Math.ceil(props.number)}</span>}\r\n            </Spring>\r\n        )\r\n    }\r\n\r\n    const restOfPage = () => {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    renderCarousel()\r\n                }\r\n                <div\r\n                    className=\"detailsRowMini\"\r\n                >\r\n                    <p className=\"detailRowTextMini\">\r\n                        <span className=\"boldText\">Naziv: </span>\r\n                        {data.title}\r\n                    </p>\r\n                    <img\r\n                        src={Title}\r\n                        className=\"svgIconSmaller\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"detailsRowMini\"\r\n                >\r\n                    <p className=\"detailRowTextMini\">\r\n                        <span className=\"boldText\">Adresa: </span>\r\n                        {data.details.address}\r\n                    </p>\r\n                    <img\r\n                        src={Location}\r\n                        className=\"svgIconSmaller\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"detailsRowMini\"\r\n                >\r\n                    <p className=\"detailRowTextMini\">\r\n                        <span className=\"boldText\">Telefon: </span>\r\n                        <a href={`tel:${data.details.phoneNumber}`}>{data.details.phoneNumber}</a>\r\n                    </p>\r\n                    <img\r\n                        src={Call}\r\n                        className=\"svgIconSmaller\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"detailsRow2Container\"\r\n                >\r\n                    <div>\r\n                        <span className=\"boldText mr-1\">Muzika: </span>\r\n                        {\r\n                            data.details.music\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <span className=\"boldText mr-1\">Glasnoća: </span>\r\n                        <span className=\"d-flex\">\r\n                            {\r\n                                [1, 2, 3].map((i) => {\r\n                                    return (\r\n                                        <img\r\n                                            key={i}\r\n                                            src={\r\n                                                _.inRange(i, 0, data.details.volume + 1)\r\n                                                    ? Audio\r\n                                                    : AudioLight\r\n                                            }\r\n                                            className=\"svgIconSmaller\"\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className=\"detailsRow2Container\"\r\n                >\r\n                    <div>\r\n                        <span className=\"boldText mr-1\">Prosečno 👏: </span>\r\n                        {\r\n                            (data.details.totalClaps / data.details.numberOfGrades).toPrecision(2)\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <span className=\"boldText mr-1\">Ukupno 👏: </span>\r\n                        {\r\n                            renderNumber(data.details.totalClaps)\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className=\"detailsRowMini\"\r\n                    onClick={() => {\r\n                        setShowWHModal(true);\r\n                    }}\r\n                >\r\n                    <p className=\"detailRowTextMini\">\r\n                        <span className=\"boldText\">Radno vreme: </span>\r\n                        {data.details.workingHours[moment().isoWeekday() - 1]}\r\n                        {' [ '}\r\n                        <span\r\n                            style={{\r\n                                color: 'orangered',\r\n                                cursor: 'pointer',\r\n                            }}\r\n                        >\r\n                            više\r\n                            </span>\r\n                        {' ]'}\r\n                    </p>\r\n                    <img\r\n                        src={Watch}\r\n                        className=\"svgIconSmaller\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"detailAbout\"\r\n                >\r\n                    {data.details.description.slice(0, 135) + '...'}\r\n                </div>\r\n                <div\r\n                    className=\"detailsRow clickableRow\"\r\n                    onClick={() => {\r\n                        setShowComingSoonModal(true);\r\n                    }}\r\n                >\r\n                    <h1 className=\"detailRowText boldText\">Meni</h1>\r\n                    <img\r\n                        src={MenuBook}\r\n                        className=\"svgIconSmaller\"\r\n                    />\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                !loading && restOfPage()\r\n            }\r\n            {\r\n                showWHModal && <Modal\r\n                    show={showWHModal}\r\n                    onHide={() => { setShowWHModal(false); }}\r\n                    centered\r\n                >\r\n                    <Modal.Body>\r\n                        <div className=\"reserveModalContainer\">\r\n                            {\r\n                                data.details.workingHours.map((item, index) => {\r\n                                    return (\r\n                                        <p\r\n                                            key={index}\r\n                                            className={\r\n                                                index === moment().isoWeekday() - 1\r\n                                                    ? 'boldText'\r\n                                                    : ''\r\n                                            }\r\n                                        >\r\n                                            {\r\n                                                daysOfTheWeek[index] + ': ' + item\r\n                                            }\r\n                                        </p>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <div\r\n                                className=\"detailsRow clickableRow w-50\"\r\n                                onClick={() => {\r\n                                    setShowWHModal(false);\r\n                                }}\r\n                            >\r\n                                <h1 className=\"detailRowText boldText\">OK</h1>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MoreDetails;\r\n","/* React */\r\nimport React, {\r\n    useEffect,\r\n    useState,\r\n    useContext,\r\n    Fragment\r\n} from 'react';\r\n\r\n/* Libraries */\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n/* Logo */\r\nimport Logo from '../ExtendedLogo/Logo.png';\r\n\r\n/* Icons */\r\nimport Plus from '../icons/plus.svg';\r\nimport Minus from '../icons/minus.svg';\r\nimport Done from '../icons/doneWhite.svg';\r\nimport Clear from '../icons/clearWhite.svg';\r\n\r\n/* Components */\r\nimport DatePicker from 'react-date-picker';\r\nimport TimePicker from 'react-time-picker'\r\nimport { Modal } from 'react-bootstrap';\r\n\r\n/* Context */\r\nimport DataContext, { DataProvider } from '../Context/dataContext';\r\n\r\nconst placeholderObj = {\r\n    id: 0,\r\n    title: '',\r\n    logo: '',\r\n    totalSpots: 0,\r\n    freeSpots: 0,\r\n    details: {\r\n        description: '',\r\n        images: '',\r\n        workingHours: '',\r\n        location: '',\r\n        menu: ''\r\n    }\r\n}\r\n\r\nfunction Reserve(props) {\r\n    let { id } = useParams();\r\n    const { Data, loading, fastReserve } = useContext(DataContext);\r\n\r\n    const [data, setData] = useState({ ...placeholderObj });\r\n    const [date, setDate] = useState(new Date());\r\n    const [time, setTime] = useState(moment().add(15, 'minutes').format('HH:mm'));\r\n    const [seats, setSeats] = useState(5);\r\n\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n    const handleClose = () => setShowModal(false);\r\n    const handleShow = () => setShowModal(true);\r\n\r\n    useEffect(() => {\r\n        let findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) || placeholderObj };\r\n\r\n        setData(findData);\r\n    }, [Data]);\r\n\r\n    const restOfPage = () => {\r\n        return (\r\n            <Fragment>\r\n                <div className=\"reserveContainer\">\r\n                    <h3 className=\"reserveText\">Datum rezervacije</h3>\r\n                    <div className=\"reserveCalendarContainer boldText\">\r\n                        <DatePicker\r\n                            onChange={(value) => {\r\n                                setDate(value)\r\n                            }}\r\n                            value={date}\r\n                            calendarIcon={\r\n                                <i className=\"material-icons\">\r\n                                    calendar_today\r\n                        </i>\r\n                            }\r\n                            format=\"MM/dd/yyyy\"\r\n                            maxDetail=\"month\"\r\n                            minDate={new Date()}\r\n                            maxDate={moment().add(3, 'day').toDate()}\r\n                            calendarClassName=\"reserveCalendarMain\"\r\n                            className=\"reserveCalendar\"\r\n                        />\r\n                    </div>\r\n                    <h3 className=\"reserveText\">Vreme rezervacije</h3>\r\n                    <div className=\"reserveTimeContainer boldText\">\r\n                        <TimePicker\r\n                            onChange={(value) => {\r\n                                setTime(value);\r\n                            }}\r\n                            format={'HH:mm'}\r\n                            // minTime={moment().toDate()}\r\n                            value={time}\r\n                            disableClock={true}\r\n                            isOpen={false}\r\n                            clockIcon={\r\n                                <i className=\"material-icons reserveClockIcon\">\r\n                                    access_time\r\n                        </i>\r\n                            }\r\n                            className=\"reserveTime\"\r\n                        />\r\n                    </div>\r\n                    <h3 className=\"reserveText\">Broj mesta</h3>\r\n                    <div className=\"reserveSeatsContainer\">\r\n                        <button\r\n                            onClick={() => {\r\n                                if (seats > 1) {\r\n                                    setSeats(seats - 1)\r\n                                };\r\n                            }}\r\n                            className=\"reserveSeatsButton\"\r\n                        >\r\n                            <img className=\"svgIcon\" src={Minus} />\r\n                        </button>\r\n                        <div\r\n                            className=\"reserveSeatsCounter boldText\"\r\n                        >\r\n                            {seats}\r\n                        </div>\r\n                        <button\r\n                            onClick={() => {\r\n                                setSeats(seats + 1)\r\n                            }}\r\n                            className=\"reserveSeatsButton\"\r\n                        >\r\n                            {/* <Plus width=\"40px\" height=\"40px\"/> */}\r\n                            <img className=\"svgIcon\" src={Plus} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className=\"detailsRow clickableRow\"\r\n                    onClick={() => {\r\n                        handleShow(true);\r\n                    }}\r\n                >\r\n                    <h1 className=\"detailRowText boldText\">Rezerviši</h1>\r\n                    <img className=\"svgIconSmaller\" src={Done} />\r\n                </div>\r\n                <div\r\n                    className=\"detailsRow clickableRowCancel\"\r\n                    onClick={() => {\r\n                        props.history.push(`/durango/app/${data.id}`);\r\n                    }}\r\n                >\r\n                    <h1 className=\"detailRowText boldText\">Otkaži</h1>\r\n                    <img className=\"svgIconSmaller\" src={Clear} />\r\n                </div>\r\n                <Modal\r\n                    show={showModal}\r\n                    onHide={handleClose}\r\n                    centered\r\n                >\r\n                    <Modal.Body>\r\n                        <div className=\"reserveModalContainer\">\r\n                            <img src={Logo} className=\"reserveModalLogo\"/>\r\n                            <h3 className=\"boldText reserveModalTitle\">Konobar je odobrio!</h3>\r\n                            <p className=\"reserveModalExplanation\">\r\n                                Vaša rezervacija u objektu '{data.title}' je uspešno obavljena.\r\n                    Ne zaboravite da se pojavite najkasnije do {time}.\r\n                    </p>\r\n                            <div\r\n                                className=\"detailsRow clickableRow w-50\"\r\n                                onClick={() => {\r\n                                    handleClose();\r\n                                    props.history.push(`/durango/app/${data.id}`);\r\n                                    fastReserve(data.id, time);\r\n                                }}\r\n                            >\r\n                                <h1 className=\"detailRowText boldText\">OK</h1>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n    return (\r\n        !loading && restOfPage()\r\n    );\r\n}\r\n\r\nexport default Reserve;\r\n","import React, {\r\n    useEffect,\r\n    useContext,\r\n    useState,\r\n    Fragment\r\n} from 'react';\r\n\r\n/* Libraries */\r\nimport _ from 'lodash';\r\n\r\n/* Components */\r\nimport Claps from '../Components/Claps';\r\nimport DetailsHeader from '../Components/DetailsHeader';\r\n\r\n/* Router */\r\nimport {\r\n    useParams,\r\n    Route,\r\n    Switch,\r\n} from \"react-router-dom\";\r\n\r\n/* Pages / Screens */\r\nimport Details from '../Screens/Details';\r\nimport MoreDetails from '../Screens/MoreDetails';\r\nimport Reserve from '../Screens/Reserve';\r\n\r\n/* Animations */\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\n/* Context */\r\nimport DataContext, { DataProvider } from '../Context/dataContext';\r\n\r\nconst routes = [\r\n    { path: '/durango/app/:id', name: 'Details', Component: Details },\r\n    { path: '/durango/app/:id/more', name: 'MoreDetails', Component: MoreDetails },\r\n    { path: '/durango/app/:id/reserve', name: 'Reserve', Component: Reserve },\r\n]\r\n\r\nconst ObjectProfileStackOfScreens = (props) => {\r\n    let { id } = useParams();\r\n\r\n    const { Data, loading } = useContext(DataContext);\r\n    const [data, setData] = useState();\r\n\r\n    useEffect(() => {\r\n        let findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) };\r\n\r\n        setData(findData);\r\n    }, [Data]);\r\n\r\n    const getBackURL = () => {\r\n        const { history: { location: { pathname } } } = props;\r\n\r\n        let splitted = pathname.split('/');\r\n\r\n        if (['more', 'reserve'].indexOf(splitted[splitted.length - 1]) !== -1) {\r\n            return `/durango/app/${data.id}`;\r\n        } else {\r\n            return `/durango/app/home`;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {\r\n                data && <DetailsHeader history={props.history} back={getBackURL()} />\r\n            }\r\n            <div className=\"container\">\r\n                <TransitionGroup>\r\n                    <CSSTransition\r\n                        in={true}\r\n                        timeout={300}\r\n                        classNames=\"page\"\r\n                        unmountOnExit\r\n                        key={props.history.location.key} // Bez ovoga neće!\r\n                    >\r\n                        <Switch location={props.history.location}>\r\n                            {\r\n                                routes.map(({ path, Component }) => (\r\n                                    <Route\r\n                                        key={path}\r\n                                        exact\r\n                                        path={path}\r\n                                        render={\r\n                                            ({ match }) => (\r\n                                                <div className=\"page\">\r\n                                                    <Component history={props.history} />\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    />\r\n                                ))\r\n                            }\r\n                        </Switch>\r\n                    </CSSTransition>\r\n                </TransitionGroup>\r\n            </div>\r\n\r\n            {/* <Route key={2} exact path=\"/durango/app/:id\" component={Details} />\r\n                <Route key={3} exact path=\"/durango/app/:id/more\" component={MoreDetails} />\r\n                <Route key={4} exact path=\"/durango/app/:id/reserve\" component={Reserve} /> */}\r\n            {\r\n                !loading && data && <Claps data={data} />\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ObjectProfileStackOfScreens;","import React, {\r\n    useEffect,\r\n    useState,\r\n    Fragment,\r\n    useContext\r\n} from 'react';\r\n\r\n/* Libraries */\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\n\r\n/* Router */\r\nimport {\r\n    useParams,\r\n    __RouterContext,\r\n    useHistory,\r\n} from \"react-router-dom\";\r\n\r\n/* Logo */\r\nimport Logo from '../ExtendedLogo/Logo.png';\r\n\r\n/* Icons */\r\nimport BackArrow from '../icons/backArrow.svg';\r\n\r\n/* Context */\r\nimport ObjectContext, { ObjectProvider } from '../Context/objectContext';\r\n\r\nconst IPHeader = (props) => {\r\n    let { id } = useParams();\r\n    let history = useHistory();\r\n\r\n    const { Data, loading } = useContext(ObjectContext);\r\n\r\n    const [data, setData] = useState({});\r\n    const [currentTime, setCurrentTime] = useState(moment());\r\n\r\n    useEffect(() => {\r\n        let findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) };\r\n\r\n        setData(findData);\r\n    }, [Data]);\r\n\r\n\r\n    useEffect(() => {\r\n        let interval = setInterval(() => {\r\n            setCurrentTime(moment());\r\n        }, 1000);\r\n\r\n        return () => {\r\n            clearInterval(interval);\r\n        };\r\n    }, []);\r\n\r\n    const displayHeader = () => {\r\n        const { location: { pathname } } = history;\r\n        if (!data) return false;\r\n\r\n        let splitted = pathname.split('/');\r\n\r\n        if (['login'].indexOf(splitted[splitted.length - 1]) !== -1) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    const renderLeftComponent = () => {\r\n        const { history: { location: { pathname } } } = props;\r\n\r\n        let splitted = pathname.split('/');\r\n\r\n        if (['settings'].indexOf(splitted[splitted.length - 1]) !== -1) {\r\n            return (\r\n                <div\r\n                    className=\"goBack\"\r\n                    onClick={() => {\r\n                        history.push(`/durango/inputPanel/${data.id}`);\r\n                    }}\r\n                >\r\n                    <img src={BackArrow} className=\"svgIconBigger\" />\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className=\"IP-time\">\r\n                    {currentTime.format(\"HH:mm:ss\")}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    const renderRightComponent = () => {\r\n        const { history: { location: { pathname } } } = props;\r\n\r\n        let splitted = pathname.split('/');\r\n\r\n        if (['settings'].indexOf(splitted[splitted.length - 1]) !== -1) {\r\n            return null;\r\n        } else {\r\n            return (\r\n                <i\r\n                    className=\"material-icons IP-settings-icon\"\r\n                    onClick={() => {\r\n                        history.push('/durango/inputPanel/' + data.id + '/settings');\r\n                    }}\r\n                >\r\n                    settings\r\n                </i>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {\r\n                displayHeader() && <div className={`detailsHeader`}>\r\n                    {\r\n                        renderLeftComponent()\r\n                    }\r\n                    <img src={Logo} className={`detailsDurangoLogo`} />\r\n                    {\r\n                        renderRightComponent()\r\n                    }\r\n                </div>\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default IPHeader;","import React, { useEffect, useState, useContext } from 'react';\r\n\r\n/* Libraries */\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\nimport { isOpen } from '../../library/common';\r\n\r\n/* Components */\r\nimport TimePicker from 'react-time-picker'\r\n\r\n/* Router */\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n/* Context */\r\nimport ObjectContext, { ObjectProvider } from '../../Context/objectContext';\r\n\r\nconst daysOfTheWeek = [\r\n    'Ponedeljak',\r\n    'Utorak',\r\n    'Sreda',\r\n    'Četvrtak',\r\n    'Petak',\r\n    'Subota',\r\n    'Nedelja'\r\n];\r\n\r\nconst ObjectSettings = ({ history }) => {\r\n    const { id } = useParams();\r\n\r\n    const { Data, loading } = useContext(ObjectContext);\r\n    const [data, setData] = useState({});\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [totalSpots, setTotalSpots] = useState(1);\r\n    const [description, setDescription] = useState('');\r\n    const [location, setLocation] = useState('');\r\n    const [address, setAddress] = useState('');\r\n    const [music, setMusic] = useState('');\r\n    const [phoneNumber, setPhoneNumber] = useState('');\r\n    const [workingHours, setWorkingHours] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!Data || !Data.length) return;\r\n\r\n        let findData;\r\n\r\n        if (id) {\r\n            findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) };\r\n        }\r\n\r\n        if (findData.id) {\r\n            setData(findData);\r\n        } else {\r\n            history.push('/durango/inputPanel/login');\r\n        }\r\n\r\n    }, [Data]);\r\n\r\n    useEffect(() => {\r\n        if (!data || !data.id) return;\r\n\r\n        const { title, totalSpots, details: { location, address, phoneNumber, music, description, workingHours } } = data;\r\n\r\n        setTitle(title);\r\n        setTotalSpots(totalSpots);\r\n        setDescription(description);\r\n        setLocation(location);\r\n        setMusic(music);\r\n        setAddress(address);\r\n        setPhoneNumber(phoneNumber);\r\n        setWorkingHours([...workingHours]);\r\n\r\n    }, [data]);\r\n\r\n    return (\r\n        <div className=\"IP-Container\">\r\n            {\r\n                data.id && <div className=\"container\">\r\n                    <div className=\"IP-Settings-Form\">\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Naziv</p>\r\n                            <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Ukupan broj mesta</p>\r\n                            <input type=\"number\" value={totalSpots} onChange={(e) => setTotalSpots(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Adresa</p>\r\n                            <input type=\"text\" value={address} onChange={(e) => setAddress(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Telefon</p>\r\n                            <input type=\"text\" value={phoneNumber} onChange={(e) => setPhoneNumber(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Tip muzike</p>\r\n                            <input type=\"text\" value={music} onChange={(e) => setMusic(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Google Maps lokacija</p>\r\n                            <textarea type=\"text\" value={location} onChange={(e) => setLocation(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Radno vreme</p>\r\n                            {\r\n                                data.details.workingHours.map((item, index) => {\r\n                                    let opening = item.split(' - ')[0];\r\n                                    let closing = item.split(' - ')[1];\r\n                                    return (\r\n                                        <div\r\n                                            style={{\r\n                                                display: 'flex',\r\n                                                flexDirection: 'row'\r\n                                            }}\r\n                                            key={index}\r\n                                        >\r\n                                            <p>{daysOfTheWeek[index]}</p>\r\n                                            <TimePicker\r\n                                                onChange={(value) => {\r\n                                                    setWorkingHours([\r\n                                                        ...workingHours.map((i, n) => {\r\n                                                            if (n === index) {\r\n                                                                return `${value} - ${closing}`;\r\n                                                            }\r\n\r\n                                                            return i;\r\n                                                        })\r\n                                                    ])\r\n                                                }}\r\n                                                format={'HH:mm'}\r\n                                                // minTime={moment().toDate()}\r\n                                                value={opening}\r\n                                                disableClock={true}\r\n                                                isOpen={false}\r\n                                                clockIcon={\r\n                                                    <i className=\"material-icons reserveClockIcon\">\r\n                                                        access_time\r\n                                                    </i>\r\n                                                }\r\n                                                className=\"reserveTime\"\r\n                                            />\r\n                                            <p>{' - '}</p>\r\n                                            <TimePicker\r\n                                                onChange={(value) => {\r\n                                                    setWorkingHours([\r\n                                                        ...workingHours.map((i, n) => {\r\n                                                            if (n === index) {\r\n                                                                return `${opening} - ${value}`;\r\n                                                            }\r\n\r\n                                                            return i;\r\n                                                        })\r\n                                                    ])\r\n                                                }}\r\n                                                format={'HH:mm'}\r\n                                                // minTime={moment().toDate()}\r\n                                                value={closing}\r\n                                                disableClock={true}\r\n                                                isOpen={false}\r\n                                                clockIcon={\r\n                                                    <i className=\"material-icons reserveClockIcon\">\r\n                                                        access_time\r\n                                                    </i>\r\n                                                }\r\n                                                className=\"reserveTime\"\r\n                                            />\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"IP-Settings-Block\">\r\n                            <p>Opis</p>\r\n                            <textarea className=\"IP-Settings-TextArea\" type=\"text\" value={description} onChange={(e) => setDescription(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n            <button\r\n                className=\"IP-input-imaMesta IP-clickable\"\r\n                style={{\r\n                    position: 'fixed',\r\n                    bottom: '20px',\r\n                    right: '20px'\r\n                }}\r\n                onClick={() => {\r\n                    // API Call\r\n                }}\r\n            >\r\n                Sačuvaj\r\n            </button>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ObjectSettings;","import React, {\r\n    useEffect,\r\n    useContext,\r\n    useState,\r\n    Fragment\r\n} from 'react';\r\n\r\n/* Libraries */\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\n/* Components */\r\nimport IPHeader from '../Components/IPHeader';\r\nimport AbsoluteWrapper from '../Components/AbsoluteWrapper';\r\n\r\n/* Router */\r\nimport {\r\n    useParams,\r\n    Route,\r\n    Switch,\r\n    __RouterContext\r\n} from \"react-router-dom\";\r\n\r\n/* Pages / Screens */\r\nimport Restaurant from '../Screens/Object/index';\r\nimport ObjectSettings from '../Screens/Object/ObjectSettings';\r\n\r\n/* Logo */\r\nimport Logo from '../ExtendedLogo/Logo.png';\r\n\r\n/* Animations */\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\n/* Context */\r\nimport ObjectContext, { ObjectProvider } from '../Context/objectContext';\r\n\r\nconst routes = [\r\n    { path: '/durango/inputPanel/:id', Component: Restaurant },\r\n    { path: '/durango/inputPanel/:id/settings', Component: ObjectSettings },\r\n]\r\n\r\nconst InputPanelStackOfScreens = (props) => {\r\n    let { id } = useParams();\r\n    // const { location } = useContext(__RouterContext);\r\n\r\n    const { Data, loading } = useContext(ObjectContext);\r\n    const [data, setData] = useState();\r\n    const [volume, setVolume] = useState(2);\r\n\r\n    useEffect(() => {\r\n        if (!Data || !Data.length) {\r\n            return;\r\n        }\r\n        if (!id) {\r\n            props.history.push('/durango/inputPanel/login');\r\n        }\r\n\r\n        let findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) };\r\n\r\n        if (!findData.id) {\r\n            props.history.replace(`/durango/inputPanel/login`);\r\n        } else {\r\n            setData(findData);\r\n            props.history.replace(`/durango/inputPanel/${findData.id}`);\r\n        }\r\n    }, [Data]);\r\n\r\n    useEffect(() => {\r\n        // Request na server\r\n    }, [volume]);\r\n\r\n    const renderFixedButtons = () => {\r\n        if (!data || !data.id) return null;\r\n\r\n        const { location: { pathname } } = props.history;\r\n\r\n        let splitted = pathname.split('/');\r\n\r\n        if (['settings'].indexOf(splitted[splitted.length - 1]) !== -1) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"IP-zatvoriOtvoriContainer\">Zatvori</div>\r\n                <div className=\"IP-volumeContainer\">\r\n                    {\r\n                        ['Tiho', 'Umereno', 'Glasno'].map((level, i) => {\r\n                            return (\r\n                                <div\r\n                                    key={level}\r\n                                    className={`IP-volume-level ${volume === i + 1 ? 'IP-volume-active' : ''}`}\r\n                                    onClick={() => {\r\n                                        setVolume(i + 1);\r\n                                    }}\r\n                                >\r\n                                    {level}\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {\r\n                <IPHeader history={props.history} />\r\n            }\r\n            <div className=\"container\">\r\n                <TransitionGroup>\r\n                    <CSSTransition\r\n                        in={true}\r\n                        timeout={300}\r\n                        classNames=\"page\"\r\n                        unmountOnExit\r\n                        key={props.history.location.key} // Bez ovoga neće!\r\n                    >\r\n                        <Switch location={props.history.location}>\r\n                            {\r\n                                routes.map(({ path, Component }) => (\r\n                                    <Route\r\n                                        key={path}\r\n                                        exact\r\n                                        path={path}\r\n                                        render={\r\n                                            ({ match }) => (\r\n                                                <div className=\"page\">\r\n                                                    <Component match={match} history={props.history} />\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    />\r\n                                ))\r\n                            }\r\n                        </Switch>\r\n                    </CSSTransition>\r\n                </TransitionGroup>\r\n            </div>\r\n            {\r\n                renderFixedButtons()\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default InputPanelStackOfScreens;","import React, { useEffect, useState, useContext, Fragment } from 'react';\r\n\r\n/* Libraries */\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\nimport { isOpen } from '../../library/common';\r\n\r\n/* Router */\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n/* Default Logo */\r\nimport defaultLogo from '../../CustomIcons/defaultLogo.png';\r\n\r\n/* Context */\r\nimport ObjectContext, { ObjectProvider } from '../../Context/objectContext';\r\n\r\nconst Restaurant = ({ history }) => {\r\n    const { id } = useParams();\r\n\r\n    const { Data, loading } = useContext(ObjectContext);\r\n\r\n    const [data, setData] = useState({});\r\n    const [currentNumber, setCurrentNumber] = useState(3);\r\n\r\n    useEffect(() => {\r\n        if (!Data || !Data.length) return;\r\n\r\n        let findData;\r\n\r\n        if (id) {\r\n            findData = { ..._.find(Data, { 'id': parseInt(id, 10) }) };\r\n        }\r\n\r\n        if (findData.id) {\r\n            setData(findData);\r\n        } /* else {\r\n            history.push('/durango/inputPanel/login');\r\n        } */\r\n\r\n    }, [Data]);\r\n\r\n    useEffect(() => {\r\n        // Request na server\r\n    }, [currentNumber]);\r\n\r\n    useEffect(() => {\r\n        if (data.freeSpots || data.freeSpots === 0) {\r\n            setCurrentNumber(data.freeSpots);\r\n        }\r\n    }, [data]);\r\n\r\n    const getRadnoVreme = () => {\r\n        let day = moment().isoWeekday() - 1;\r\n        const open = isOpen(data.details.workingHours[day]);\r\n\r\n        return <p className=\"randoVremeParagraph\">\r\n            <span className=\"greyText\">{open ? 'Otvoreno: ' : 'Zatvoreno: '}</span>\r\n            <span style={{ color: open ? '#009A1F' : 'orangered' }}>{data.details.workingHours[day]}</span>\r\n        </p>;\r\n    }\r\n\r\n    const updateFreeSeats = (value) => {\r\n        if (!value) return;\r\n\r\n        setData({\r\n            ...data,\r\n            freeSpots: value\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {\r\n                data && data.id && <div className=\"IP-Container\">\r\n                    <div className=\"IP-data-loaded\">\r\n                        <div>\r\n                            <div className=\"IP-dataLoaded\">\r\n                                <div className=\"detailsSubheader\">\r\n                                    <div>\r\n                                        <h1 className=\"detailsTitle boldText\">{data.title}</h1>\r\n                                        {getRadnoVreme()}\r\n                                    </div>\r\n                                    <img\r\n                                        src={\r\n                                            data.logo\r\n                                                ? `${process.env.PUBLIC_URL}/slike/mockLogos/${data.logo}`\r\n                                                : defaultLogo\r\n                                        }\r\n                                        className={\r\n                                            `detailsLogo reveal-focus-${\r\n                                            data.freeSpots && isOpen(data.details.workingHours[moment().isoWeekday() - 1]) > 0\r\n                                                ? 'blue'\r\n                                                : 'orange'\r\n                                            }`\r\n                                        }\r\n                                    />\r\n                                </div>\r\n                                <div className=\"IP-center-upper\">\r\n                                    <h5>Trenutno slobodno </h5>\r\n                                    <input\r\n                                        className=\"IP-input\"\r\n                                        type=\"number\"\r\n                                        min={0}\r\n                                        max={10}\r\n                                        value={currentNumber}\r\n                                        onChange={\r\n                                            (e) => {\r\n                                                let { value, min, max } = e.target;\r\n                                                value = Math.max(Number(min), Math.min(Number(max), Number(value)));\r\n\r\n                                                setCurrentNumber(value);\r\n                                            }\r\n                                        }\r\n                                    />\r\n                                    <h5>od ukupno {data.totalSpots}</h5>\r\n                                    {/* <div className=\"IP-center-ukupnoMesta\">{data.totalSpots}</div> */}\r\n                                </div>\r\n                                <div className=\"IP-counter-container\">\r\n                                    <div className=\"IP-input-sideButton\">\r\n                                        <button\r\n                                            className={\r\n                                                `IP-input-nemaMesta IP-clickable ${\r\n                                                currentNumber === 0\r\n                                                    ? 'IP-input-selected'\r\n                                                    : ''\r\n                                                }`\r\n                                            }\r\n                                            onClick={() => {\r\n                                                setCurrentNumber(0)\r\n                                            }}\r\n                                        >\r\n                                            Nemamo mesta\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"IP-center-container\">\r\n                                        <div className=\"IP-dial-container\">\r\n                                            {\r\n                                                [..._.range(1, 10)].map(i => {\r\n                                                    return (\r\n                                                        <button\r\n                                                            key={i}\r\n                                                            className={\r\n                                                                `IP-dial-button IP-clickable ${\r\n                                                                currentNumber === i\r\n                                                                    ? 'IP-input-selected'\r\n                                                                    : ''\r\n                                                                }`\r\n                                                            }\r\n                                                            onClick={() => {\r\n                                                                setCurrentNumber(i)\r\n                                                            }}\r\n                                                        >\r\n                                                            {i}\r\n                                                        </button>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"IP-input-sideButton\">\r\n                                        <button\r\n                                            className={\r\n                                                `IP-input-imaMesta IP-clickable ${\r\n                                                currentNumber === 10\r\n                                                    ? 'IP-input-selected'\r\n                                                    : ''\r\n                                                }`\r\n                                            }\r\n                                            onClick={() => {\r\n                                                setCurrentNumber(10)\r\n                                            }}\r\n                                        >\r\n                                            Imamo 10+ mesta\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            }\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Restaurant;","/* React */\r\nimport React, { Fragment, useContext } from 'react';\r\nimport './App.css';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  __RouterContext,\r\n  useParams\r\n} from \"react-router-dom\";\r\n\r\n/* Libraries */\r\nimport 'moment/locale/sr';\r\nimport moment from 'moment';\r\n\r\n/* Animations */\r\nimport Fade from 'react-reveal/Fade';\r\nimport {\r\n  CSSTransition,\r\n  TransitionGroup\r\n} from 'react-transition-group';\r\n\r\n/* Pages / Screens */\r\nimport Login from './Screens/LoginScreen';\r\nimport Home from './Screens/Home';\r\nimport ObjectLogin from './Screens/Object/ObjectLogin';\r\n\r\n/* Stacks */\r\nimport ObjectProfileStackOfScreens from './Stacks/ObjectProfileStackOfScreens';\r\nimport InputPanelStackOfScreens from './Stacks/InputPanelStackOfScreens';\r\n\r\n/* Context */\r\nimport DataContext, { DataProvider } from './Context/dataContext';\r\nimport ObjectContext, { ObjectProvider } from './Context/objectContext';\r\n\r\nconst UserStackOfScreens = ({ history }) => {\r\n  const { location } = useContext(__RouterContext);\r\n\r\n  return (\r\n    <Fragment>\r\n      <DataProvider history={history}>\r\n        <Switch location={location}>\r\n          <Route key={1} exact path=\"/durango/app\" render={() => (<Redirect to=\"/durango/app/home\" />)} />\r\n          <Route key={2} exact path=\"/durango/app/home\" component={Home} />\r\n          <Route key={3} path=\"/durango/app/:id\" render={() => <ObjectProfileStackOfScreens history={history} />} />\r\n        </Switch>\r\n      </DataProvider >\r\n    </Fragment>\r\n\r\n  );\r\n}\r\n\r\nconst ObjectStackOfScreens = ({ history }) => {\r\n  const { location } = useContext(__RouterContext);\r\n\r\n  return (\r\n    <Fragment>\r\n      <ObjectProvider history={history}>\r\n        <Switch location={location}>\r\n          <Route\r\n            exact path=\"/durango/inputPanel/login\"\r\n            render={({ match }) => <ObjectLogin history={history} match={match} />}\r\n          />\r\n          <Route\r\n            exact path=\"/durango/inputPanel\"\r\n            render={({ match }) => <ObjectLogin history={history} match={match} />}\r\n          />\r\n          <Route\r\n            path=\"/durango/inputPanel/:id\"\r\n            render={({ match }) => <InputPanelStackOfScreens history={history} match={match} />}\r\n          />\r\n        </Switch>\r\n      </ObjectProvider>\r\n    </Fragment>\r\n\r\n  );\r\n}\r\n\r\nconst App = (props) => {\r\n  moment.locale('sr');\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Login} />\r\n        <Route exact path=\"/durango/app-login\" component={Login} />\r\n        <Route exact path=\"/durango/\" component={Login} />\r\n        <Route path=\"/durango/app\" component={UserStackOfScreens} />\r\n        <Route path=\"/durango/inputPanel\" component={ObjectStackOfScreens} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    //CHANGED\n    //window.addEventListener('load', () => {\n    const doRegister = () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    };\n\n    // ADDED\n    // EITHER CALL REGISTER IMMEDIATELY, OR WAIT FOR WINDOW LOAD (CURRENT BEHAVIOR)\n    if (config && config.immediate) {\n      doRegister();\n    } else {\n      window.addEventListener('load', doRegister);\n    }\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  if (config && config.immediate) {\n    // TO MY SURPRISE, THESE TWO LINES RE-TRIGGERED ALL OF THE APPROPRIATE BEHAVIOR\n    navigator.serviceWorker.getRegistration(swUrl).then(registration => {\n      registration && registration.update();\n    });\n  } else {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then(registration => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                if (window.confirm('Restartuj aplikaciju za ažuriranje')) {\n                  window.loaction.reload();\n                  navigator.serviceWorker.skipWaiting();\n                }\n\n                console.log(\n                  'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                );\n\n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                alert('Sadržaj je keširan za offline korišćenje.');\n                console.log('Content is cached for offline use.');\n\n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch(error => {\n        console.error('Error during service worker registration:', error);\n      });\n  }\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();","module.exports = __webpack_public_path__ + \"static/media/noResults.57a946ba.png\";","module.exports = __webpack_public_path__ + \"static/media/star.46cc7ae4.svg\";","module.exports = __webpack_public_path__ + \"static/media/seat.1e91f677.svg\";","module.exports = __webpack_public_path__ + \"static/media/seat_orange.e1103410.svg\";","module.exports = __webpack_public_path__ + \"static/media/backArrow.5ad7c031.svg\";"],"sourceRoot":""}